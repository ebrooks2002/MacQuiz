(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function tl(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ce={},Qn=[],Ot=()=>{},pp=()=>!1,hs=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),nl=t=>t.startsWith("onUpdate:"),ze=Object.assign,rl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_p=Object.prototype.hasOwnProperty,ve=(t,e)=>_p.call(t,e),ne=Array.isArray,Jn=t=>mi(t)==="[object Map]",ds=t=>mi(t)==="[object Set]",pa=t=>mi(t)==="[object Date]",re=t=>typeof t=="function",He=t=>typeof t=="string",Mt=t=>typeof t=="symbol",Ae=t=>t!==null&&typeof t=="object",cu=t=>(Ae(t)||re(t))&&re(t.then)&&re(t.catch),uu=Object.prototype.toString,mi=t=>uu.call(t),gp=t=>mi(t).slice(8,-1),fu=t=>mi(t)==="[object Object]",il=t=>He(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,$r=tl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ps=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},mp=/-(\w)/g,St=ps(t=>t.replace(mp,(e,n)=>n?n.toUpperCase():"")),vp=/\B([A-Z])/g,vn=ps(t=>t.replace(vp,"-$1").toLowerCase()),_s=ps(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ws=ps(t=>t?`on${_s(t)}`:""),fn=(t,e)=>!Object.is(t,e),Bi=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},hu=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},du=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let _a;const vi=()=>_a||(_a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sl(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=He(r)?Cp(r):sl(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(He(t)||Ae(t))return t}const yp=/;(?![^(]*\))/g,bp=/:([^]+)/,Ep=/\/\*[^]*?\*\//g;function Cp(t){const e={};return t.replace(Ep,"").split(yp).forEach(n=>{if(n){const r=n.split(bp);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ol(t){let e="";if(He(t))e=t;else if(ne(t))for(let n=0;n<t.length;n++){const r=ol(t[n]);r&&(e+=r+" ")}else if(Ae(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const wp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sp=tl(wp);function pu(t){return!!t||t===""}function Ip(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=gs(t[r],e[r]);return n}function gs(t,e){if(t===e)return!0;let n=pa(t),r=pa(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Mt(t),r=Mt(e),n||r)return t===e;if(n=ne(t),r=ne(e),n||r)return n&&r?Ip(t,e):!1;if(n=Ae(t),r=Ae(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const l=t.hasOwnProperty(o),a=e.hasOwnProperty(o);if(l&&!a||!l&&a||!gs(t[o],e[o]))return!1}}return String(t)===String(e)}function Tp(t,e){return t.findIndex(n=>gs(n,e))}const _u=t=>!!(t&&t.__v_isRef===!0),Ht=t=>He(t)?t:t==null?"":ne(t)||Ae(t)&&(t.toString===uu||!re(t.toString))?_u(t)?Ht(t.value):JSON.stringify(t,gu,2):String(t),gu=(t,e)=>_u(e)?gu(t,e.value):Jn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Vs(r,s)+" =>"]=i,n),{})}:ds(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Vs(n))}:Mt(e)?Vs(e):Ae(e)&&!ne(e)&&!fu(e)?String(e):e,Vs=(t,e="")=>{var n;return Mt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vt;class mu{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=vt,!e&&vt&&(this.index=(vt.scopes||(vt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=vt;try{return vt=this,e()}finally{vt=n}}}on(){vt=this}off(){vt=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Rp(t){return new mu(t)}function xp(){return vt}let Te;const js=new WeakSet;class vu{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,vt&&vt.active&&vt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,js.has(this)&&(js.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||bu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ga(this),Eu(this);const e=Te,n=Pt;Te=this,Pt=!0;try{return this.fn()}finally{Cu(this),Te=e,Pt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)cl(e);this.deps=this.depsTail=void 0,ga(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?js.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){go(this)&&this.run()}get dirty(){return go(this)}}let yu=0,Hr,Wr;function bu(t,e=!1){if(t.flags|=8,e){t.next=Wr,Wr=t;return}t.next=Hr,Hr=t}function ll(){yu++}function al(){if(--yu>0)return;if(Wr){let e=Wr;for(Wr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Hr;){let e=Hr;for(Hr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Eu(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Cu(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),cl(r),Ap(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function go(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(wu(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function wu(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Jr))return;t.globalVersion=Jr;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!go(t)){t.flags&=-3;return}const n=Te,r=Pt;Te=t,Pt=!0;try{Eu(t);const i=t.fn(t._value);(e.version===0||fn(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Te=n,Pt=r,Cu(t),t.flags&=-3}}function cl(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)cl(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ap(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Pt=!0;const Su=[];function yn(){Su.push(Pt),Pt=!1}function bn(){const t=Su.pop();Pt=t===void 0?!0:t}function ga(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Te;Te=void 0;try{e()}finally{Te=n}}}let Jr=0;class Np{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ul{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Te||!Pt||Te===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Te)n=this.activeLink=new Np(Te,this),Te.deps?(n.prevDep=Te.depsTail,Te.depsTail.nextDep=n,Te.depsTail=n):Te.deps=Te.depsTail=n,Iu(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Te.depsTail,n.nextDep=void 0,Te.depsTail.nextDep=n,Te.depsTail=n,Te.deps===n&&(Te.deps=r)}return n}trigger(e){this.version++,Jr++,this.notify(e)}notify(e){ll();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{al()}}}function Iu(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Iu(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const mo=new WeakMap,xn=Symbol(""),vo=Symbol(""),Xr=Symbol("");function et(t,e,n){if(Pt&&Te){let r=mo.get(t);r||mo.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new ul),i.map=r,i.key=n),i.track()}}function qt(t,e,n,r,i,s){const o=mo.get(t);if(!o){Jr++;return}const l=a=>{a&&a.trigger()};if(ll(),e==="clear")o.forEach(l);else{const a=ne(t),c=a&&il(n);if(a&&n==="length"){const f=Number(r);o.forEach((u,h)=>{(h==="length"||h===Xr||!Mt(h)&&h>=f)&&l(u)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),c&&l(o.get(Xr)),e){case"add":a?c&&l(o.get("length")):(l(o.get(xn)),Jn(t)&&l(o.get(vo)));break;case"delete":a||(l(o.get(xn)),Jn(t)&&l(o.get(vo)));break;case"set":Jn(t)&&l(o.get(xn));break}}al()}function Wn(t){const e=me(t);return e===t?e:(et(e,"iterate",Xr),wt(t)?e:e.map(tt))}function ms(t){return et(t=me(t),"iterate",Xr),t}const Op={__proto__:null,[Symbol.iterator](){return Gs(this,Symbol.iterator,tt)},concat(...t){return Wn(this).concat(...t.map(e=>ne(e)?Wn(e):e))},entries(){return Gs(this,"entries",t=>(t[1]=tt(t[1]),t))},every(t,e){return Gt(this,"every",t,e,void 0,arguments)},filter(t,e){return Gt(this,"filter",t,e,n=>n.map(tt),arguments)},find(t,e){return Gt(this,"find",t,e,tt,arguments)},findIndex(t,e){return Gt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Gt(this,"findLast",t,e,tt,arguments)},findLastIndex(t,e){return Gt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Gt(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ks(this,"includes",t)},indexOf(...t){return Ks(this,"indexOf",t)},join(t){return Wn(this).join(t)},lastIndexOf(...t){return Ks(this,"lastIndexOf",t)},map(t,e){return Gt(this,"map",t,e,void 0,arguments)},pop(){return xr(this,"pop")},push(...t){return xr(this,"push",t)},reduce(t,...e){return ma(this,"reduce",t,e)},reduceRight(t,...e){return ma(this,"reduceRight",t,e)},shift(){return xr(this,"shift")},some(t,e){return Gt(this,"some",t,e,void 0,arguments)},splice(...t){return xr(this,"splice",t)},toReversed(){return Wn(this).toReversed()},toSorted(t){return Wn(this).toSorted(t)},toSpliced(...t){return Wn(this).toSpliced(...t)},unshift(...t){return xr(this,"unshift",t)},values(){return Gs(this,"values",tt)}};function Gs(t,e,n){const r=ms(t),i=r[e]();return r!==t&&!wt(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const Pp=Array.prototype;function Gt(t,e,n,r,i,s){const o=ms(t),l=o!==t&&!wt(t),a=o[e];if(a!==Pp[e]){const u=a.apply(t,s);return l?tt(u):u}let c=n;o!==t&&(l?c=function(u,h){return n.call(this,tt(u),h,t)}:n.length>2&&(c=function(u,h){return n.call(this,u,h,t)}));const f=a.call(o,c,r);return l&&i?i(f):f}function ma(t,e,n,r){const i=ms(t);let s=n;return i!==t&&(wt(t)?n.length>3&&(s=function(o,l,a){return n.call(this,o,l,a,t)}):s=function(o,l,a){return n.call(this,o,tt(l),a,t)}),i[e](s,...r)}function Ks(t,e,n){const r=me(t);et(r,"iterate",Xr);const i=r[e](...n);return(i===-1||i===!1)&&dl(n[0])?(n[0]=me(n[0]),r[e](...n)):i}function xr(t,e,n=[]){yn(),ll();const r=me(t)[e].apply(t,n);return al(),bn(),r}const Dp=tl("__proto__,__v_isRef,__isVue"),Tu=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Mt));function Mp(t){Mt(t)||(t=String(t));const e=me(this);return et(e,"has",t),e.hasOwnProperty(t)}class Ru{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?jp:Ou:s?Nu:Au).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ne(e);if(!i){let a;if(o&&(a=Op[n]))return a;if(n==="hasOwnProperty")return Mp}const l=Reflect.get(e,n,st(e)?e:r);return(Mt(n)?Tu.has(n):Dp(n))||(i||et(e,"get",n),s)?l:st(l)?o&&il(n)?l:l.value:Ae(l)?i?Du(l):yi(l):l}}class xu extends Ru{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const a=On(s);if(!wt(r)&&!On(r)&&(s=me(s),r=me(r)),!ne(e)&&st(s)&&!st(r))return a?!1:(s.value=r,!0)}const o=ne(e)&&il(n)?Number(n)<e.length:ve(e,n),l=Reflect.set(e,n,r,st(e)?e:i);return e===me(i)&&(o?fn(r,s)&&qt(e,"set",n,r):qt(e,"add",n,r)),l}deleteProperty(e,n){const r=ve(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&qt(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Mt(n)||!Tu.has(n))&&et(e,"has",n),r}ownKeys(e){return et(e,"iterate",ne(e)?"length":xn),Reflect.ownKeys(e)}}class kp extends Ru{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Lp=new xu,Fp=new kp,Bp=new xu(!0);const yo=t=>t,Ni=t=>Reflect.getPrototypeOf(t);function Up(t,e,n){return function(...r){const i=this.__v_raw,s=me(i),o=Jn(s),l=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,c=i[t](...r),f=n?yo:e?bo:tt;return!e&&et(s,"iterate",a?vo:xn),{next(){const{value:u,done:h}=c.next();return h?{value:u,done:h}:{value:l?[f(u[0]),f(u[1])]:f(u),done:h}},[Symbol.iterator](){return this}}}}function Oi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function $p(t,e){const n={get(i){const s=this.__v_raw,o=me(s),l=me(i);t||(fn(i,l)&&et(o,"get",i),et(o,"get",l));const{has:a}=Ni(o),c=e?yo:t?bo:tt;if(a.call(o,i))return c(s.get(i));if(a.call(o,l))return c(s.get(l));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&et(me(i),"iterate",xn),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=me(s),l=me(i);return t||(fn(i,l)&&et(o,"has",i),et(o,"has",l)),i===l?s.has(i):s.has(i)||s.has(l)},forEach(i,s){const o=this,l=o.__v_raw,a=me(l),c=e?yo:t?bo:tt;return!t&&et(a,"iterate",xn),l.forEach((f,u)=>i.call(s,c(f),c(u),o))}};return ze(n,t?{add:Oi("add"),set:Oi("set"),delete:Oi("delete"),clear:Oi("clear")}:{add(i){!e&&!wt(i)&&!On(i)&&(i=me(i));const s=me(this);return Ni(s).has.call(s,i)||(s.add(i),qt(s,"add",i,i)),this},set(i,s){!e&&!wt(s)&&!On(s)&&(s=me(s));const o=me(this),{has:l,get:a}=Ni(o);let c=l.call(o,i);c||(i=me(i),c=l.call(o,i));const f=a.call(o,i);return o.set(i,s),c?fn(s,f)&&qt(o,"set",i,s):qt(o,"add",i,s),this},delete(i){const s=me(this),{has:o,get:l}=Ni(s);let a=o.call(s,i);a||(i=me(i),a=o.call(s,i)),l&&l.call(s,i);const c=s.delete(i);return a&&qt(s,"delete",i,void 0),c},clear(){const i=me(this),s=i.size!==0,o=i.clear();return s&&qt(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Up(i,t,e)}),n}function fl(t,e){const n=$p(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(ve(n,i)&&i in r?n:r,i,s)}const Hp={get:fl(!1,!1)},Wp={get:fl(!1,!0)},Vp={get:fl(!0,!1)};const Au=new WeakMap,Nu=new WeakMap,Ou=new WeakMap,jp=new WeakMap;function Gp(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Kp(t){return t.__v_skip||!Object.isExtensible(t)?0:Gp(gp(t))}function yi(t){return On(t)?t:hl(t,!1,Lp,Hp,Au)}function Pu(t){return hl(t,!1,Bp,Wp,Nu)}function Du(t){return hl(t,!0,Fp,Vp,Ou)}function hl(t,e,n,r,i){if(!Ae(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=Kp(t);if(o===0)return t;const l=new Proxy(t,o===2?r:n);return i.set(t,l),l}function Xn(t){return On(t)?Xn(t.__v_raw):!!(t&&t.__v_isReactive)}function On(t){return!!(t&&t.__v_isReadonly)}function wt(t){return!!(t&&t.__v_isShallow)}function dl(t){return t?!!t.__v_raw:!1}function me(t){const e=t&&t.__v_raw;return e?me(e):t}function zp(t){return!ve(t,"__v_skip")&&Object.isExtensible(t)&&hu(t,"__v_skip",!0),t}const tt=t=>Ae(t)?yi(t):t,bo=t=>Ae(t)?Du(t):t;function st(t){return t?t.__v_isRef===!0:!1}function qp(t){return Mu(t,!1)}function Yp(t){return Mu(t,!0)}function Mu(t,e){return st(t)?t:new Qp(t,e)}class Qp{constructor(e,n){this.dep=new ul,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:me(e),this._value=n?e:tt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||wt(e)||On(e);e=r?e:me(e),fn(e,n)&&(this._rawValue=e,this._value=r?e:tt(e),this.dep.trigger())}}function Zn(t){return st(t)?t.value:t}const Jp={get:(t,e,n)=>e==="__v_raw"?t:Zn(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return st(i)&&!st(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function ku(t){return Xn(t)?t:new Proxy(t,Jp)}class Xp{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new ul(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Jr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Te!==this)return bu(this,!0),!0}get value(){const e=this.dep.track();return wu(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Zp(t,e,n=!1){let r,i;return re(t)?r=t:(r=t.get,i=t.set),new Xp(r,i,n)}const Pi={},Wi=new WeakMap;let wn;function e_(t,e=!1,n=wn){if(n){let r=Wi.get(n);r||Wi.set(n,r=[]),r.push(t)}}function t_(t,e,n=Ce){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:l,call:a}=n,c=K=>i?K:wt(K)||i===!1||i===0?Yt(K,1):Yt(K);let f,u,h,g,w=!1,R=!1;if(st(t)?(u=()=>t.value,w=wt(t)):Xn(t)?(u=()=>c(t),w=!0):ne(t)?(R=!0,w=t.some(K=>Xn(K)||wt(K)),u=()=>t.map(K=>{if(st(K))return K.value;if(Xn(K))return c(K);if(re(K))return a?a(K,2):K()})):re(t)?e?u=a?()=>a(t,2):t:u=()=>{if(h){yn();try{h()}finally{bn()}}const K=wn;wn=f;try{return a?a(t,3,[g]):t(g)}finally{wn=K}}:u=Ot,e&&i){const K=u,O=i===!0?1/0:i;u=()=>Yt(K(),O)}const U=xp(),j=()=>{f.stop(),U&&rl(U.effects,f)};if(s&&e){const K=e;e=(...O)=>{K(...O),j()}}let $=R?new Array(t.length).fill(Pi):Pi;const Q=K=>{if(!(!(f.flags&1)||!f.dirty&&!K))if(e){const O=f.run();if(i||w||(R?O.some((Z,z)=>fn(Z,$[z])):fn(O,$))){h&&h();const Z=wn;wn=f;try{const z=[O,$===Pi?void 0:R&&$[0]===Pi?[]:$,g];a?a(e,3,z):e(...z),$=O}finally{wn=Z}}}else f.run()};return l&&l(Q),f=new vu(u),f.scheduler=o?()=>o(Q,!1):Q,g=K=>e_(K,!1,f),h=f.onStop=()=>{const K=Wi.get(f);if(K){if(a)a(K,4);else for(const O of K)O();Wi.delete(f)}},e?r?Q(!0):$=f.run():o?o(Q.bind(null,!0),!0):f.run(),j.pause=f.pause.bind(f),j.resume=f.resume.bind(f),j.stop=j,j}function Yt(t,e=1/0,n){if(e<=0||!Ae(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,st(t))Yt(t.value,e,n);else if(ne(t))for(let r=0;r<t.length;r++)Yt(t[r],e,n);else if(ds(t)||Jn(t))t.forEach(r=>{Yt(r,e,n)});else if(fu(t)){for(const r in t)Yt(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Yt(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function bi(t,e,n,r){try{return r?t(...r):t()}catch(i){vs(i,e,n)}}function Vt(t,e,n,r){if(re(t)){const i=bi(t,e,n,r);return i&&cu(i)&&i.catch(s=>{vs(s,e,n)}),i}if(ne(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Vt(t[s],e,n,r));return i}}function vs(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ce;if(e){let l=e.parent;const a=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const f=l.ec;if(f){for(let u=0;u<f.length;u++)if(f[u](t,a,c)===!1)return}l=l.parent}if(s){yn(),bi(s,null,10,[t,a,c]),bn();return}}n_(t,n,i,r,o)}function n_(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const at=[];let Ut=-1;const er=[];let an=null,Kn=0;const Lu=Promise.resolve();let Vi=null;function pl(t){const e=Vi||Lu;return t?e.then(this?t.bind(this):t):e}function r_(t){let e=Ut+1,n=at.length;for(;e<n;){const r=e+n>>>1,i=at[r],s=Zr(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function _l(t){if(!(t.flags&1)){const e=Zr(t),n=at[at.length-1];!n||!(t.flags&2)&&e>=Zr(n)?at.push(t):at.splice(r_(e),0,t),t.flags|=1,Fu()}}function Fu(){Vi||(Vi=Lu.then(Uu))}function i_(t){ne(t)?er.push(...t):an&&t.id===-1?an.splice(Kn+1,0,t):t.flags&1||(er.push(t),t.flags|=1),Fu()}function va(t,e,n=Ut+1){for(;n<at.length;n++){const r=at[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;at.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Bu(t){if(er.length){const e=[...new Set(er)].sort((n,r)=>Zr(n)-Zr(r));if(er.length=0,an){an.push(...e);return}for(an=e,Kn=0;Kn<an.length;Kn++){const n=an[Kn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}an=null,Kn=0}}const Zr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Uu(t){const e=Ot;try{for(Ut=0;Ut<at.length;Ut++){const n=at[Ut];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),bi(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;Ut<at.length;Ut++){const n=at[Ut];n&&(n.flags&=-2)}Ut=-1,at.length=0,Bu(),Vi=null,(at.length||er.length)&&Uu()}}let Je=null,$u=null;function ji(t){const e=Je;return Je=t,$u=t&&t.type.__scopeId||null,e}function Pn(t,e=Je,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Ra(-1);const s=ji(e);let o;try{o=t(...i)}finally{ji(s),r._d&&Ra(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function s_(t,e){if(Je===null)return t;const n=Cs(Je),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,l,a=Ce]=e[i];s&&(re(s)&&(s={mounted:s,updated:s}),s.deep&&Yt(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:l,modifiers:a}))}return t}function En(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];s&&(l.oldValue=s[o].value);let a=l.dir[r];a&&(yn(),Vt(a,n,8,[t.el,l,t,e]),bn())}}const o_=Symbol("_vte"),l_=t=>t.__isTeleport;function gl(t,e){t.shapeFlag&6&&t.component?(t.transition=e,gl(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Hu(t,e){return re(t)?(()=>ze({name:t.name},e,{setup:t}))():t}function Wu(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Eo(t,e,n,r,i=!1){if(ne(t)){t.forEach((w,R)=>Eo(w,e&&(ne(e)?e[R]:e),n,r,i));return}if(tr(r)&&!i)return;const s=r.shapeFlag&4?Cs(r.component):r.el,o=i?null:s,{i:l,r:a}=t,c=e&&e.r,f=l.refs===Ce?l.refs={}:l.refs,u=l.setupState,h=me(u),g=u===Ce?()=>!1:w=>ve(h,w);if(c!=null&&c!==a&&(He(c)?(f[c]=null,g(c)&&(u[c]=null)):st(c)&&(c.value=null)),re(a))bi(a,l,12,[o,f]);else{const w=He(a),R=st(a);if(w||R){const U=()=>{if(t.f){const j=w?g(a)?u[a]:f[a]:a.value;i?ne(j)&&rl(j,s):ne(j)?j.includes(s)||j.push(s):w?(f[a]=[s],g(a)&&(u[a]=f[a])):(a.value=[s],t.k&&(f[t.k]=a.value))}else w?(f[a]=o,g(a)&&(u[a]=o)):R&&(a.value=o,t.k&&(f[t.k]=o))};o?(U.id=-1,mt(U,n)):U()}}}vi().requestIdleCallback;vi().cancelIdleCallback;const tr=t=>!!t.type.__asyncLoader,Vu=t=>t.type.__isKeepAlive;function a_(t,e){ju(t,"a",e)}function c_(t,e){ju(t,"da",e)}function ju(t,e,n=it){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(ys(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Vu(i.parent.vnode)&&u_(r,e,n,i),i=i.parent}}function u_(t,e,n,r){const i=ys(e,t,r,!0);Gu(()=>{rl(r[e],i)},n)}function ys(t,e,n=it,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{yn();const l=Ei(n),a=Vt(e,n,t,o);return l(),bn(),a});return r?i.unshift(s):i.push(s),s}}const en=t=>(e,n=it)=>{(!ri||t==="sp")&&ys(t,(...r)=>e(...r),n)},f_=en("bm"),h_=en("m"),d_=en("bu"),p_=en("u"),__=en("bum"),Gu=en("um"),g_=en("sp"),m_=en("rtg"),v_=en("rtc");function y_(t,e=it){ys("ec",t,e)}const Ku="components";function An(t,e){return E_(Ku,t,!0,e)||t}const b_=Symbol.for("v-ndc");function E_(t,e,n=!0,r=!1){const i=Je||it;if(i){const s=i.type;if(t===Ku){const l=ug(s,!1);if(l&&(l===e||l===St(e)||l===_s(St(e))))return s}const o=ya(i[t]||s[t],e)||ya(i.appContext[t],e);return!o&&r?s:o}}function ya(t,e){return t&&(t[e]||t[St(e)]||t[_s(St(e))])}function C_(t,e,n,r){let i;const s=n&&n[r],o=ne(t);if(o||He(t)){const l=o&&Xn(t);let a=!1;l&&(a=!wt(t),t=ms(t)),i=new Array(t.length);for(let c=0,f=t.length;c<f;c++)i[c]=e(a?tt(t[c]):t[c],c,void 0,s&&s[c])}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,s&&s[l])}else if(Ae(t))if(t[Symbol.iterator])i=Array.from(t,(l,a)=>e(l,a,void 0,s&&s[a]));else{const l=Object.keys(t);i=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const f=l[a];i[a]=e(t[f],f,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function w_(t,e,n={},r,i){if(Je.ce||Je.parent&&tr(Je.parent)&&Je.parent.ce)return e!=="default"&&(n.name=e),Ye(),Ki(nt,null,[Oe("slot",n,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),Ye();const o=s&&zu(s(n)),l=n.key||o&&o.key,a=Ki(nt,{key:(l&&!Mt(l)?l:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function zu(t){return t.some(e=>ti(e)?!(e.type===_n||e.type===nt&&!zu(e.children)):!0)?t:null}const Co=t=>t?pf(t)?Cs(t):Co(t.parent):null,Vr=ze(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Co(t.parent),$root:t=>Co(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ml(t),$forceUpdate:t=>t.f||(t.f=()=>{_l(t.update)}),$nextTick:t=>t.n||(t.n=pl.bind(t.proxy)),$watch:t=>G_.bind(t)}),zs=(t,e)=>t!==Ce&&!t.__isScriptSetup&&ve(t,e),S_={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(zs(r,e))return o[e]=1,r[e];if(i!==Ce&&ve(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&ve(c,e))return o[e]=3,s[e];if(n!==Ce&&ve(n,e))return o[e]=4,n[e];wo&&(o[e]=0)}}const f=Vr[e];let u,h;if(f)return e==="$attrs"&&et(t.attrs,"get",""),f(t);if((u=l.__cssModules)&&(u=u[e]))return u;if(n!==Ce&&ve(n,e))return o[e]=4,n[e];if(h=a.config.globalProperties,ve(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return zs(i,e)?(i[e]=n,!0):r!==Ce&&ve(r,e)?(r[e]=n,!0):ve(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let l;return!!n[o]||t!==Ce&&ve(t,o)||zs(e,o)||(l=s[0])&&ve(l,o)||ve(r,o)||ve(Vr,o)||ve(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ve(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ba(t){return ne(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let wo=!0;function I_(t){const e=ml(t),n=t.proxy,r=t.ctx;wo=!1,e.beforeCreate&&Ea(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:l,provide:a,inject:c,created:f,beforeMount:u,mounted:h,beforeUpdate:g,updated:w,activated:R,deactivated:U,beforeDestroy:j,beforeUnmount:$,destroyed:Q,unmounted:K,render:O,renderTracked:Z,renderTriggered:z,errorCaptured:se,serverPrefetch:Se,expose:Pe,inheritAttrs:ke,components:Fe,directives:Be,filters:It}=e;if(c&&T_(c,r,null),o)for(const fe in o){const he=o[fe];re(he)&&(r[fe]=he.bind(n))}if(i){const fe=i.call(n,n);Ae(fe)&&(t.data=yi(fe))}if(wo=!0,s)for(const fe in s){const he=s[fe],Rt=re(he)?he.bind(n,n):re(he.get)?he.get.bind(n,n):Ot,Ft=!re(he)&&re(he.set)?he.set.bind(n):Ot,Ue=Ct({get:Rt,set:Ft});Object.defineProperty(r,fe,{enumerable:!0,configurable:!0,get:()=>Ue.value,set:qe=>Ue.value=qe})}if(l)for(const fe in l)qu(l[fe],r,n,fe);if(a){const fe=re(a)?a.call(n):a;Reflect.ownKeys(fe).forEach(he=>{Ui(he,fe[he])})}f&&Ea(f,t,"c");function De(fe,he){ne(he)?he.forEach(Rt=>fe(Rt.bind(n))):he&&fe(he.bind(n))}if(De(f_,u),De(h_,h),De(d_,g),De(p_,w),De(a_,R),De(c_,U),De(y_,se),De(v_,Z),De(m_,z),De(__,$),De(Gu,K),De(g_,Se),ne(Pe))if(Pe.length){const fe=t.exposed||(t.exposed={});Pe.forEach(he=>{Object.defineProperty(fe,he,{get:()=>n[he],set:Rt=>n[he]=Rt})})}else t.exposed||(t.exposed={});O&&t.render===Ot&&(t.render=O),ke!=null&&(t.inheritAttrs=ke),Fe&&(t.components=Fe),Be&&(t.directives=Be),Se&&Wu(t)}function T_(t,e,n=Ot){ne(t)&&(t=So(t));for(const r in t){const i=t[r];let s;Ae(i)?"default"in i?s=Wt(i.from||r,i.default,!0):s=Wt(i.from||r):s=Wt(i),st(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Ea(t,e,n){Vt(ne(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function qu(t,e,n,r){let i=r.includes(".")?cf(n,r):()=>n[r];if(He(t)){const s=e[t];re(s)&&rr(i,s)}else if(re(t))rr(i,t.bind(n));else if(Ae(t))if(ne(t))t.forEach(s=>qu(s,e,n,r));else{const s=re(t.handler)?t.handler.bind(n):e[t.handler];re(s)&&rr(i,s,t)}}function ml(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,l=s.get(e);let a;return l?a=l:!i.length&&!n&&!r?a=e:(a={},i.length&&i.forEach(c=>Gi(a,c,o,!0)),Gi(a,e,o)),Ae(e)&&s.set(e,a),a}function Gi(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Gi(t,s,n,!0),i&&i.forEach(o=>Gi(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const l=R_[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const R_={data:Ca,props:wa,emits:wa,methods:Ur,computed:Ur,beforeCreate:lt,created:lt,beforeMount:lt,mounted:lt,beforeUpdate:lt,updated:lt,beforeDestroy:lt,beforeUnmount:lt,destroyed:lt,unmounted:lt,activated:lt,deactivated:lt,errorCaptured:lt,serverPrefetch:lt,components:Ur,directives:Ur,watch:A_,provide:Ca,inject:x_};function Ca(t,e){return e?t?function(){return ze(re(t)?t.call(this,this):t,re(e)?e.call(this,this):e)}:e:t}function x_(t,e){return Ur(So(t),So(e))}function So(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function lt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ur(t,e){return t?ze(Object.create(null),t,e):e}function wa(t,e){return t?ne(t)&&ne(e)?[...new Set([...t,...e])]:ze(Object.create(null),ba(t),ba(e!=null?e:{})):e}function A_(t,e){if(!t)return e;if(!e)return t;const n=ze(Object.create(null),t);for(const r in e)n[r]=lt(t[r],e[r]);return n}function Yu(){return{app:null,config:{isNativeTag:pp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let N_=0;function O_(t,e){return function(r,i=null){re(r)||(r=ze({},r)),i!=null&&!Ae(i)&&(i=null);const s=Yu(),o=new WeakSet,l=[];let a=!1;const c=s.app={_uid:N_++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:hg,get config(){return s.config},set config(f){},use(f,...u){return o.has(f)||(f&&re(f.install)?(o.add(f),f.install(c,...u)):re(f)&&(o.add(f),f(c,...u))),c},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),c},component(f,u){return u?(s.components[f]=u,c):s.components[f]},directive(f,u){return u?(s.directives[f]=u,c):s.directives[f]},mount(f,u,h){if(!a){const g=c._ceVNode||Oe(r,i);return g.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),u&&e?e(g,f):t(g,f,h),a=!0,c._container=f,f.__vue_app__=c,Cs(g.component)}},onUnmount(f){l.push(f)},unmount(){a&&(Vt(l,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(f,u){return s.provides[f]=u,c},runWithContext(f){const u=nr;nr=c;try{return f()}finally{nr=u}}};return c}}let nr=null;function Ui(t,e){if(it){let n=it.provides;const r=it.parent&&it.parent.provides;r===n&&(n=it.provides=Object.create(r)),n[t]=e}}function Wt(t,e,n=!1){const r=it||Je;if(r||nr){const i=nr?nr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&re(e)?e.call(r&&r.proxy):e}}const Qu={},Ju=()=>Object.create(Qu),Xu=t=>Object.getPrototypeOf(t)===Qu;function P_(t,e,n,r=!1){const i={},s=Ju();t.propsDefaults=Object.create(null),Zu(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:Pu(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function D_(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,l=me(i),[a]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let u=0;u<f.length;u++){let h=f[u];if(bs(t.emitsOptions,h))continue;const g=e[h];if(a)if(ve(s,h))g!==s[h]&&(s[h]=g,c=!0);else{const w=St(h);i[w]=Io(a,l,w,g,t,!1)}else g!==s[h]&&(s[h]=g,c=!0)}}}else{Zu(t,e,i,s)&&(c=!0);let f;for(const u in l)(!e||!ve(e,u)&&((f=vn(u))===u||!ve(e,f)))&&(a?n&&(n[u]!==void 0||n[f]!==void 0)&&(i[u]=Io(a,l,u,void 0,t,!0)):delete i[u]);if(s!==l)for(const u in s)(!e||!ve(e,u)&&!0)&&(delete s[u],c=!0)}c&&qt(t.attrs,"set","")}function Zu(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,l;if(e)for(let a in e){if($r(a))continue;const c=e[a];let f;i&&ve(i,f=St(a))?!s||!s.includes(f)?n[f]=c:(l||(l={}))[f]=c:bs(t.emitsOptions,a)||(!(a in r)||c!==r[a])&&(r[a]=c,o=!0)}if(s){const a=me(n),c=l||Ce;for(let f=0;f<s.length;f++){const u=s[f];n[u]=Io(i,a,u,c[u],t,!ve(c,u))}}return o}function Io(t,e,n,r,i,s){const o=t[n];if(o!=null){const l=ve(o,"default");if(l&&r===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&re(a)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const f=Ei(i);r=c[n]=a.call(null,e),f()}}else r=a;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!l?r=!1:o[1]&&(r===""||r===vn(n))&&(r=!0))}return r}const M_=new WeakMap;function ef(t,e,n=!1){const r=n?M_:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},l=[];let a=!1;if(!re(t)){const f=u=>{a=!0;const[h,g]=ef(u,e,!0);ze(o,h),g&&l.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!s&&!a)return Ae(t)&&r.set(t,Qn),Qn;if(ne(s))for(let f=0;f<s.length;f++){const u=St(s[f]);Sa(u)&&(o[u]=Ce)}else if(s)for(const f in s){const u=St(f);if(Sa(u)){const h=s[f],g=o[u]=ne(h)||re(h)?{type:h}:ze({},h),w=g.type;let R=!1,U=!0;if(ne(w))for(let j=0;j<w.length;++j){const $=w[j],Q=re($)&&$.name;if(Q==="Boolean"){R=!0;break}else Q==="String"&&(U=!1)}else R=re(w)&&w.name==="Boolean";g[0]=R,g[1]=U,(R||ve(g,"default"))&&l.push(u)}}const c=[o,l];return Ae(t)&&r.set(t,c),c}function Sa(t){return t[0]!=="$"&&!$r(t)}const tf=t=>t[0]==="_"||t==="$stable",vl=t=>ne(t)?t.map($t):[$t(t)],k_=(t,e,n)=>{if(e._n)return e;const r=Pn((...i)=>vl(e(...i)),n);return r._c=!1,r},nf=(t,e,n)=>{const r=t._ctx;for(const i in t){if(tf(i))continue;const s=t[i];if(re(s))e[i]=k_(i,s,r);else if(s!=null){const o=vl(s);e[i]=()=>o}}},rf=(t,e)=>{const n=vl(e);t.slots.default=()=>n},sf=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},L_=(t,e,n)=>{const r=t.slots=Ju();if(t.vnode.shapeFlag&32){const i=e._;i?(sf(r,e,n),n&&hu(r,"_",i,!0)):nf(e,r)}else e&&rf(t,e)},F_=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Ce;if(r.shapeFlag&32){const l=e._;l?n&&l===1?s=!1:sf(i,e,n):(s=!e.$stable,nf(e,i)),o=e}else e&&(rf(t,e),o={default:1});if(s)for(const l in i)!tf(l)&&o[l]==null&&delete i[l]};function B_(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(vi().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const mt=X_;function U_(t){return $_(t)}function $_(t,e){B_();const n=vi();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:l,createComment:a,setText:c,setElementText:f,parentNode:u,nextSibling:h,setScopeId:g=Ot,insertStaticContent:w}=t,R=(_,m,C,x=null,S=null,A=null,H=void 0,B=null,L=!!m.dynamicChildren)=>{if(_===m)return;_&&!Ar(_,m)&&(x=T(_),qe(_,S,A,!0),_=null),m.patchFlag===-2&&(L=!1,m.dynamicChildren=null);const{type:P,ref:X,shapeFlag:V}=m;switch(P){case Es:U(_,m,C,x);break;case _n:j(_,m,C,x);break;case Qs:_==null&&$(m,C,x,H);break;case nt:Fe(_,m,C,x,S,A,H,B,L);break;default:V&1?O(_,m,C,x,S,A,H,B,L):V&6?Be(_,m,C,x,S,A,H,B,L):(V&64||V&128)&&P.process(_,m,C,x,S,A,H,B,L,q)}X!=null&&S&&Eo(X,_&&_.ref,A,m||_,!m)},U=(_,m,C,x)=>{if(_==null)r(m.el=l(m.children),C,x);else{const S=m.el=_.el;m.children!==_.children&&c(S,m.children)}},j=(_,m,C,x)=>{_==null?r(m.el=a(m.children||""),C,x):m.el=_.el},$=(_,m,C,x)=>{[_.el,_.anchor]=w(_.children,m,C,x,_.el,_.anchor)},Q=({el:_,anchor:m},C,x)=>{let S;for(;_&&_!==m;)S=h(_),r(_,C,x),_=S;r(m,C,x)},K=({el:_,anchor:m})=>{let C;for(;_&&_!==m;)C=h(_),i(_),_=C;i(m)},O=(_,m,C,x,S,A,H,B,L)=>{m.type==="svg"?H="svg":m.type==="math"&&(H="mathml"),_==null?Z(m,C,x,S,A,H,B,L):Se(_,m,S,A,H,B,L)},Z=(_,m,C,x,S,A,H,B)=>{let L,P;const{props:X,shapeFlag:V,transition:J,dirs:ee}=_;if(L=_.el=o(_.type,A,X&&X.is,X),V&8?f(L,_.children):V&16&&se(_.children,L,null,x,S,qs(_,A),H,B),ee&&En(_,null,x,"created"),z(L,_,_.scopeId,H,x),X){for(const ye in X)ye!=="value"&&!$r(ye)&&s(L,ye,null,X[ye],A,x);"value"in X&&s(L,"value",null,X.value,A),(P=X.onVnodeBeforeMount)&&Bt(P,x,_)}ee&&En(_,null,x,"beforeMount");const ce=H_(S,J);ce&&J.beforeEnter(L),r(L,m,C),((P=X&&X.onVnodeMounted)||ce||ee)&&mt(()=>{P&&Bt(P,x,_),ce&&J.enter(L),ee&&En(_,null,x,"mounted")},S)},z=(_,m,C,x,S)=>{if(C&&g(_,C),x)for(let A=0;A<x.length;A++)g(_,x[A]);if(S){let A=S.subTree;if(m===A||ff(A.type)&&(A.ssContent===m||A.ssFallback===m)){const H=S.vnode;z(_,H,H.scopeId,H.slotScopeIds,S.parent)}}},se=(_,m,C,x,S,A,H,B,L=0)=>{for(let P=L;P<_.length;P++){const X=_[P]=B?cn(_[P]):$t(_[P]);R(null,X,m,C,x,S,A,H,B)}},Se=(_,m,C,x,S,A,H)=>{const B=m.el=_.el;let{patchFlag:L,dynamicChildren:P,dirs:X}=m;L|=_.patchFlag&16;const V=_.props||Ce,J=m.props||Ce;let ee;if(C&&Cn(C,!1),(ee=J.onVnodeBeforeUpdate)&&Bt(ee,C,m,_),X&&En(m,_,C,"beforeUpdate"),C&&Cn(C,!0),(V.innerHTML&&J.innerHTML==null||V.textContent&&J.textContent==null)&&f(B,""),P?Pe(_.dynamicChildren,P,B,C,x,qs(m,S),A):H||he(_,m,B,null,C,x,qs(m,S),A,!1),L>0){if(L&16)ke(B,V,J,C,S);else if(L&2&&V.class!==J.class&&s(B,"class",null,J.class,S),L&4&&s(B,"style",V.style,J.style,S),L&8){const ce=m.dynamicProps;for(let ye=0;ye<ce.length;ye++){const pe=ce[ye],Xe=V[pe],We=J[pe];(We!==Xe||pe==="value")&&s(B,pe,Xe,We,S,C)}}L&1&&_.children!==m.children&&f(B,m.children)}else!H&&P==null&&ke(B,V,J,C,S);((ee=J.onVnodeUpdated)||X)&&mt(()=>{ee&&Bt(ee,C,m,_),X&&En(m,_,C,"updated")},x)},Pe=(_,m,C,x,S,A,H)=>{for(let B=0;B<m.length;B++){const L=_[B],P=m[B],X=L.el&&(L.type===nt||!Ar(L,P)||L.shapeFlag&70)?u(L.el):C;R(L,P,X,null,x,S,A,H,!0)}},ke=(_,m,C,x,S)=>{if(m!==C){if(m!==Ce)for(const A in m)!$r(A)&&!(A in C)&&s(_,A,m[A],null,S,x);for(const A in C){if($r(A))continue;const H=C[A],B=m[A];H!==B&&A!=="value"&&s(_,A,B,H,S,x)}"value"in C&&s(_,"value",m.value,C.value,S)}},Fe=(_,m,C,x,S,A,H,B,L)=>{const P=m.el=_?_.el:l(""),X=m.anchor=_?_.anchor:l("");let{patchFlag:V,dynamicChildren:J,slotScopeIds:ee}=m;ee&&(B=B?B.concat(ee):ee),_==null?(r(P,C,x),r(X,C,x),se(m.children||[],C,X,S,A,H,B,L)):V>0&&V&64&&J&&_.dynamicChildren?(Pe(_.dynamicChildren,J,C,S,A,H,B),(m.key!=null||S&&m===S.subTree)&&of(_,m,!0)):he(_,m,C,X,S,A,H,B,L)},Be=(_,m,C,x,S,A,H,B,L)=>{m.slotScopeIds=B,_==null?m.shapeFlag&512?S.ctx.activate(m,C,x,H,L):It(m,C,x,S,A,H,L):Tt(_,m,L)},It=(_,m,C,x,S,A,H)=>{const B=_.component=sg(_,x,S);if(Vu(_)&&(B.ctx.renderer=q),og(B,!1,H),B.asyncDep){if(S&&S.registerDep(B,De,H),!_.el){const L=B.subTree=Oe(_n);j(null,L,m,C)}}else De(B,_,m,C,S,A,H)},Tt=(_,m,C)=>{const x=m.component=_.component;if(Q_(_,m,C))if(x.asyncDep&&!x.asyncResolved){fe(x,m,C);return}else x.next=m,x.update();else m.el=_.el,x.vnode=m},De=(_,m,C,x,S,A,H)=>{const B=()=>{if(_.isMounted){let{next:V,bu:J,u:ee,parent:ce,vnode:ye}=_;{const Ze=lf(_);if(Ze){V&&(V.el=ye.el,fe(_,V,H)),Ze.asyncDep.then(()=>{_.isUnmounted||B()});return}}let pe=V,Xe;Cn(_,!1),V?(V.el=ye.el,fe(_,V,H)):V=ye,J&&Bi(J),(Xe=V.props&&V.props.onVnodeBeforeUpdate)&&Bt(Xe,ce,V,ye),Cn(_,!0);const We=Ys(_),ft=_.subTree;_.subTree=We,R(ft,We,u(ft.el),T(ft),_,S,A),V.el=We.el,pe===null&&J_(_,We.el),ee&&mt(ee,S),(Xe=V.props&&V.props.onVnodeUpdated)&&mt(()=>Bt(Xe,ce,V,ye),S)}else{let V;const{el:J,props:ee}=m,{bm:ce,m:ye,parent:pe,root:Xe,type:We}=_,ft=tr(m);if(Cn(_,!1),ce&&Bi(ce),!ft&&(V=ee&&ee.onVnodeBeforeMount)&&Bt(V,pe,m),Cn(_,!0),J&&Ie){const Ze=()=>{_.subTree=Ys(_),Ie(J,_.subTree,_,S,null)};ft&&We.__asyncHydrate?We.__asyncHydrate(J,_,Ze):Ze()}else{Xe.ce&&Xe.ce._injectChildStyle(We);const Ze=_.subTree=Ys(_);R(null,Ze,C,x,_,S,A),m.el=Ze.el}if(ye&&mt(ye,S),!ft&&(V=ee&&ee.onVnodeMounted)){const Ze=m;mt(()=>Bt(V,pe,Ze),S)}(m.shapeFlag&256||pe&&tr(pe.vnode)&&pe.vnode.shapeFlag&256)&&_.a&&mt(_.a,S),_.isMounted=!0,m=C=x=null}};_.scope.on();const L=_.effect=new vu(B);_.scope.off();const P=_.update=L.run.bind(L),X=_.job=L.runIfDirty.bind(L);X.i=_,X.id=_.uid,L.scheduler=()=>_l(X),Cn(_,!0),P()},fe=(_,m,C)=>{m.component=_;const x=_.vnode.props;_.vnode=m,_.next=null,D_(_,m.props,x,C),F_(_,m.children,C),yn(),va(_),bn()},he=(_,m,C,x,S,A,H,B,L=!1)=>{const P=_&&_.children,X=_?_.shapeFlag:0,V=m.children,{patchFlag:J,shapeFlag:ee}=m;if(J>0){if(J&128){Ft(P,V,C,x,S,A,H,B,L);return}else if(J&256){Rt(P,V,C,x,S,A,H,B,L);return}}ee&8?(X&16&&ut(P,S,A),V!==P&&f(C,V)):X&16?ee&16?Ft(P,V,C,x,S,A,H,B,L):ut(P,S,A,!0):(X&8&&f(C,""),ee&16&&se(V,C,x,S,A,H,B,L))},Rt=(_,m,C,x,S,A,H,B,L)=>{_=_||Qn,m=m||Qn;const P=_.length,X=m.length,V=Math.min(P,X);let J;for(J=0;J<V;J++){const ee=m[J]=L?cn(m[J]):$t(m[J]);R(_[J],ee,C,null,S,A,H,B,L)}P>X?ut(_,S,A,!0,!1,V):se(m,C,x,S,A,H,B,L,V)},Ft=(_,m,C,x,S,A,H,B,L)=>{let P=0;const X=m.length;let V=_.length-1,J=X-1;for(;P<=V&&P<=J;){const ee=_[P],ce=m[P]=L?cn(m[P]):$t(m[P]);if(Ar(ee,ce))R(ee,ce,C,null,S,A,H,B,L);else break;P++}for(;P<=V&&P<=J;){const ee=_[V],ce=m[J]=L?cn(m[J]):$t(m[J]);if(Ar(ee,ce))R(ee,ce,C,null,S,A,H,B,L);else break;V--,J--}if(P>V){if(P<=J){const ee=J+1,ce=ee<X?m[ee].el:x;for(;P<=J;)R(null,m[P]=L?cn(m[P]):$t(m[P]),C,ce,S,A,H,B,L),P++}}else if(P>J)for(;P<=V;)qe(_[P],S,A,!0),P++;else{const ee=P,ce=P,ye=new Map;for(P=ce;P<=J;P++){const ot=m[P]=L?cn(m[P]):$t(m[P]);ot.key!=null&&ye.set(ot.key,P)}let pe,Xe=0;const We=J-ce+1;let ft=!1,Ze=0;const jt=new Array(We);for(P=0;P<We;P++)jt[P]=0;for(P=ee;P<=V;P++){const ot=_[P];if(Xe>=We){qe(ot,S,A,!0);continue}let ht;if(ot.key!=null)ht=ye.get(ot.key);else for(pe=ce;pe<=J;pe++)if(jt[pe-ce]===0&&Ar(ot,m[pe])){ht=pe;break}ht===void 0?qe(ot,S,A,!0):(jt[ht-ce]=P+1,ht>=Ze?Ze=ht:ft=!0,R(ot,m[ht],C,null,S,A,H,B,L),Xe++)}const xi=ft?W_(jt):Qn;for(pe=xi.length-1,P=We-1;P>=0;P--){const ot=ce+P,ht=m[ot],Ir=ot+1<X?m[ot+1].el:x;jt[P]===0?R(null,ht,C,Ir,S,A,H,B,L):ft&&(pe<0||P!==xi[pe]?Ue(ht,C,Ir,2):pe--)}}},Ue=(_,m,C,x,S=null)=>{const{el:A,type:H,transition:B,children:L,shapeFlag:P}=_;if(P&6){Ue(_.component.subTree,m,C,x);return}if(P&128){_.suspense.move(m,C,x);return}if(P&64){H.move(_,m,C,q);return}if(H===nt){r(A,m,C);for(let V=0;V<L.length;V++)Ue(L[V],m,C,x);r(_.anchor,m,C);return}if(H===Qs){Q(_,m,C);return}if(x!==2&&P&1&&B)if(x===0)B.beforeEnter(A),r(A,m,C),mt(()=>B.enter(A),S);else{const{leave:V,delayLeave:J,afterLeave:ee}=B,ce=()=>r(A,m,C),ye=()=>{V(A,()=>{ce(),ee&&ee()})};J?J(A,ce,ye):ye()}else r(A,m,C)},qe=(_,m,C,x=!1,S=!1)=>{const{type:A,props:H,ref:B,children:L,dynamicChildren:P,shapeFlag:X,patchFlag:V,dirs:J,cacheIndex:ee}=_;if(V===-2&&(S=!1),B!=null&&Eo(B,null,C,_,!0),ee!=null&&(m.renderCache[ee]=void 0),X&256){m.ctx.deactivate(_);return}const ce=X&1&&J,ye=!tr(_);let pe;if(ye&&(pe=H&&H.onVnodeBeforeUnmount)&&Bt(pe,m,_),X&6)$n(_.component,C,x);else{if(X&128){_.suspense.unmount(C,x);return}ce&&En(_,null,m,"beforeUnmount"),X&64?_.type.remove(_,m,C,q,x):P&&!P.hasOnce&&(A!==nt||V>0&&V&64)?ut(P,m,C,!1,!0):(A===nt&&V&384||!S&&X&16)&&ut(L,m,C),x&&rn(_)}(ye&&(pe=H&&H.onVnodeUnmounted)||ce)&&mt(()=>{pe&&Bt(pe,m,_),ce&&En(_,null,m,"unmounted")},C)},rn=_=>{const{type:m,el:C,anchor:x,transition:S}=_;if(m===nt){sn(C,x);return}if(m===Qs){K(_);return}const A=()=>{i(C),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(_.shapeFlag&1&&S&&!S.persisted){const{leave:H,delayLeave:B}=S,L=()=>H(C,A);B?B(_.el,A,L):L()}else A()},sn=(_,m)=>{let C;for(;_!==m;)C=h(_),i(_),_=C;i(m)},$n=(_,m,C)=>{const{bum:x,scope:S,job:A,subTree:H,um:B,m:L,a:P}=_;Ia(L),Ia(P),x&&Bi(x),S.stop(),A&&(A.flags|=8,qe(H,_,m,C)),B&&mt(B,m),mt(()=>{_.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},ut=(_,m,C,x=!1,S=!1,A=0)=>{for(let H=A;H<_.length;H++)qe(_[H],m,C,x,S)},T=_=>{if(_.shapeFlag&6)return T(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const m=h(_.anchor||_.el),C=m&&m[o_];return C?h(C):m};let G=!1;const W=(_,m,C)=>{_==null?m._vnode&&qe(m._vnode,null,null,!0):R(m._vnode||null,_,m,null,null,null,C),m._vnode=_,G||(G=!0,va(),Bu(),G=!1)},q={p:R,um:qe,m:Ue,r:rn,mt:It,mc:se,pc:he,pbc:Pe,n:T,o:t};let de,Ie;return e&&([de,Ie]=e(q)),{render:W,hydrate:de,createApp:O_(W,de)}}function qs({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Cn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function H_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function of(t,e,n=!1){const r=t.children,i=e.children;if(ne(r)&&ne(i))for(let s=0;s<r.length;s++){const o=r[s];let l=i[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[s]=cn(i[s]),l.el=o.el),!n&&l.patchFlag!==-2&&of(o,l)),l.type===Es&&(l.el=o.el)}}function W_(t){const e=t.slice(),n=[0];let r,i,s,o,l;const a=t.length;for(r=0;r<a;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)l=s+o>>1,t[n[l]]<c?s=l+1:o=l;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function lf(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:lf(e)}function Ia(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const V_=Symbol.for("v-scx"),j_=()=>Wt(V_);function rr(t,e,n){return af(t,e,n)}function af(t,e,n=Ce){const{immediate:r,deep:i,flush:s,once:o}=n,l=ze({},n),a=e&&r||!e&&s!=="post";let c;if(ri){if(s==="sync"){const g=j_();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!a){const g=()=>{};return g.stop=Ot,g.resume=Ot,g.pause=Ot,g}}const f=it;l.call=(g,w,R)=>Vt(g,f,w,R);let u=!1;s==="post"?l.scheduler=g=>{mt(g,f&&f.suspense)}:s!=="sync"&&(u=!0,l.scheduler=(g,w)=>{w?g():_l(g)}),l.augmentJob=g=>{e&&(g.flags|=4),u&&(g.flags|=2,f&&(g.id=f.uid,g.i=f))};const h=t_(t,e,l);return ri&&(c?c.push(h):a&&h()),h}function G_(t,e,n){const r=this.proxy,i=He(t)?t.includes(".")?cf(r,t):()=>r[t]:t.bind(r,r);let s;re(e)?s=e:(s=e.handler,n=e);const o=Ei(this),l=af(i,s.bind(r),n);return o(),l}function cf(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const K_=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${St(e)}Modifiers`]||t[`${vn(e)}Modifiers`];function z_(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ce;let i=n;const s=e.startsWith("update:"),o=s&&K_(r,e.slice(7));o&&(o.trim&&(i=n.map(f=>He(f)?f.trim():f)),o.number&&(i=n.map(du)));let l,a=r[l=Ws(e)]||r[l=Ws(St(e))];!a&&s&&(a=r[l=Ws(vn(e))]),a&&Vt(a,t,6,i);const c=r[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Vt(c,t,6,i)}}function uf(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},l=!1;if(!re(t)){const a=c=>{const f=uf(c,e,!0);f&&(l=!0,ze(o,f))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!s&&!l?(Ae(t)&&r.set(t,null),null):(ne(s)?s.forEach(a=>o[a]=null):ze(o,s),Ae(t)&&r.set(t,o),o)}function bs(t,e){return!t||!hs(e)?!1:(e=e.slice(2).replace(/Once$/,""),ve(t,e[0].toLowerCase()+e.slice(1))||ve(t,vn(e))||ve(t,e))}function Ys(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:l,emit:a,render:c,renderCache:f,props:u,data:h,setupState:g,ctx:w,inheritAttrs:R}=t,U=ji(t);let j,$;try{if(n.shapeFlag&4){const K=i||r,O=K;j=$t(c.call(O,K,f,u,g,h,w)),$=l}else{const K=e;j=$t(K.length>1?K(u,{attrs:l,slots:o,emit:a}):K(u,null)),$=e.props?l:q_(l)}}catch(K){jr.length=0,vs(K,t,1),j=Oe(_n)}let Q=j;if($&&R!==!1){const K=Object.keys($),{shapeFlag:O}=Q;K.length&&O&7&&(s&&K.some(nl)&&($=Y_($,s)),Q=cr(Q,$,!1,!0))}return n.dirs&&(Q=cr(Q,null,!1,!0),Q.dirs=Q.dirs?Q.dirs.concat(n.dirs):n.dirs),n.transition&&gl(Q,n.transition),j=Q,ji(U),j}const q_=t=>{let e;for(const n in t)(n==="class"||n==="style"||hs(n))&&((e||(e={}))[n]=t[n]);return e},Y_=(t,e)=>{const n={};for(const r in t)(!nl(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Q_(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:l,patchFlag:a}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?Ta(r,o,c):!!o;if(a&8){const f=e.dynamicProps;for(let u=0;u<f.length;u++){const h=f[u];if(o[h]!==r[h]&&!bs(c,h))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?Ta(r,o,c):!0:!!o;return!1}function Ta(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!bs(n,s))return!0}return!1}function J_({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const ff=t=>t.__isSuspense;function X_(t,e){e&&e.pendingBranch?ne(t)?e.effects.push(...t):e.effects.push(t):i_(t)}const nt=Symbol.for("v-fgt"),Es=Symbol.for("v-txt"),_n=Symbol.for("v-cmt"),Qs=Symbol.for("v-stc"),jr=[];let bt=null;function Ye(t=!1){jr.push(bt=t?null:[])}function Z_(){jr.pop(),bt=jr[jr.length-1]||null}let ei=1;function Ra(t){ei+=t,t<0&&bt&&(bt.hasOnce=!0)}function hf(t){return t.dynamicChildren=ei>0?bt||Qn:null,Z_(),ei>0&&bt&&bt.push(t),t}function yt(t,e,n,r,i,s){return hf(ie(t,e,n,r,i,s,!0))}function Ki(t,e,n,r,i){return hf(Oe(t,e,n,r,i,!0))}function ti(t){return t?t.__v_isVNode===!0:!1}function Ar(t,e){return t.type===e.type&&t.key===e.key}const df=({key:t})=>t!=null?t:null,$i=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?He(t)||st(t)||re(t)?{i:Je,r:t,k:e,f:!!n}:t:null);function ie(t,e=null,n=null,r=0,i=null,s=t===nt?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&df(e),ref:e&&$i(e),scopeId:$u,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Je};return l?(yl(a,n),s&128&&t.normalize(a)):n&&(a.shapeFlag|=He(n)?8:16),ei>0&&!o&&bt&&(a.patchFlag>0||s&6)&&a.patchFlag!==32&&bt.push(a),a}const Oe=eg;function eg(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===b_)&&(t=_n),ti(t)){const l=cr(t,e,!0);return n&&yl(l,n),ei>0&&!s&&bt&&(l.shapeFlag&6?bt[bt.indexOf(t)]=l:bt.push(l)),l.patchFlag=-2,l}if(fg(t)&&(t=t.__vccOpts),e){e=tg(e);let{class:l,style:a}=e;l&&!He(l)&&(e.class=ol(l)),Ae(a)&&(dl(a)&&!ne(a)&&(a=ze({},a)),e.style=sl(a))}const o=He(t)?1:ff(t)?128:l_(t)?64:Ae(t)?4:re(t)?2:0;return ie(t,e,n,r,i,o,s,!0)}function tg(t){return t?dl(t)||Xu(t)?ze({},t):t:null}function cr(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:l,transition:a}=t,c=e?ng(i||{},e):i,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&df(c),ref:e&&e.ref?n&&s?ne(s)?s.concat($i(e)):[s,$i(e)]:$i(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==nt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cr(t.ssContent),ssFallback:t.ssFallback&&cr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&r&&gl(f,a.clone(f)),f}function ni(t=" ",e=0){return Oe(Es,null,t,e)}function qn(t="",e=!1){return e?(Ye(),Ki(_n,null,t)):Oe(_n,null,t)}function $t(t){return t==null||typeof t=="boolean"?Oe(_n):ne(t)?Oe(nt,null,t.slice()):ti(t)?cn(t):Oe(Es,null,String(t))}function cn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cr(t)}function yl(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ne(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),yl(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Xu(e)?e._ctx=Je:i===3&&Je&&(Je.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else re(e)?(e={default:e,_ctx:Je},n=32):(e=String(e),r&64?(n=16,e=[ni(e)]):n=8);t.children=e,t.shapeFlag|=n}function ng(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ol([e.class,r.class]));else if(i==="style")e.style=sl([e.style,r.style]);else if(hs(i)){const s=e[i],o=r[i];o&&s!==o&&!(ne(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Bt(t,e,n,r=null){Vt(t,e,7,[n,r])}const rg=Yu();let ig=0;function sg(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||rg,s={uid:ig++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new mu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ef(r,i),emitsOptions:uf(r,i),emit:null,emitted:null,propsDefaults:Ce,inheritAttrs:r.inheritAttrs,ctx:Ce,data:Ce,props:Ce,attrs:Ce,slots:Ce,refs:Ce,setupState:Ce,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=z_.bind(null,s),t.ce&&t.ce(s),s}let it=null,zi,To;{const t=vi(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};zi=e("__VUE_INSTANCE_SETTERS__",n=>it=n),To=e("__VUE_SSR_SETTERS__",n=>ri=n)}const Ei=t=>{const e=it;return zi(t),t.scope.on(),()=>{t.scope.off(),zi(e)}},xa=()=>{it&&it.scope.off(),zi(null)};function pf(t){return t.vnode.shapeFlag&4}let ri=!1;function og(t,e=!1,n=!1){e&&To(e);const{props:r,children:i}=t.vnode,s=pf(t);P_(t,r,s,e),L_(t,i,n);const o=s?lg(t,e):void 0;return e&&To(!1),o}function lg(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,S_);const{setup:r}=n;if(r){yn();const i=t.setupContext=r.length>1?cg(t):null,s=Ei(t),o=bi(r,t,0,[t.props,i]),l=cu(o);if(bn(),s(),(l||t.sp)&&!tr(t)&&Wu(t),l){if(o.then(xa,xa),e)return o.then(a=>{Aa(t,a,e)}).catch(a=>{vs(a,t,0)});t.asyncDep=o}else Aa(t,o,e)}else _f(t,e)}function Aa(t,e,n){re(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ae(e)&&(t.setupState=ku(e)),_f(t,n)}let Na;function _f(t,e,n){const r=t.type;if(!t.render){if(!e&&Na&&!r.render){const i=r.template||ml(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:l,compilerOptions:a}=r,c=ze(ze({isCustomElement:s,delimiters:l},o),a);r.render=Na(i,c)}}t.render=r.render||Ot}{const i=Ei(t);yn();try{I_(t)}finally{bn(),i()}}}const ag={get(t,e){return et(t,"get",""),t[e]}};function cg(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,ag),slots:t.slots,emit:t.emit,expose:e}}function Cs(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ku(zp(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Vr)return Vr[n](t)},has(e,n){return n in e||n in Vr}})):t.proxy}function ug(t,e=!0){return re(t)?t.displayName||t.name:t.name||e&&t.__name}function fg(t){return re(t)&&"__vccOpts"in t}const Ct=(t,e)=>Zp(t,e,ri);function gf(t,e,n){const r=arguments.length;return r===2?Ae(e)&&!ne(e)?ti(e)?Oe(t,null,[e]):Oe(t,e):Oe(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ti(n)&&(n=[n]),Oe(t,e,n))}const hg="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ro;const Oa=typeof window<"u"&&window.trustedTypes;if(Oa)try{Ro=Oa.createPolicy("vue",{createHTML:t=>t})}catch{}const mf=Ro?t=>Ro.createHTML(t):t=>t,dg="http://www.w3.org/2000/svg",pg="http://www.w3.org/1998/Math/MathML",zt=typeof document<"u"?document:null,Pa=zt&&zt.createElement("template"),_g={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?zt.createElementNS(dg,t):e==="mathml"?zt.createElementNS(pg,t):n?zt.createElement(t,{is:n}):zt.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>zt.createTextNode(t),createComment:t=>zt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>zt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Pa.innerHTML=mf(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=Pa.content;if(r==="svg"||r==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},gg=Symbol("_vtc");function mg(t,e,n){const r=t[gg];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Da=Symbol("_vod"),vg=Symbol("_vsh"),yg=Symbol(""),bg=/(^|;)\s*display\s*:/;function Eg(t,e,n){const r=t.style,i=He(n);let s=!1;if(n&&!i){if(e)if(He(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&Hi(r,l,"")}else for(const o in e)n[o]==null&&Hi(r,o,"");for(const o in n)o==="display"&&(s=!0),Hi(r,o,n[o])}else if(i){if(e!==n){const o=r[yg];o&&(n+=";"+o),r.cssText=n,s=bg.test(n)}}else e&&t.removeAttribute("style");Da in t&&(t[Da]=s?r.display:"",t[vg]&&(r.display="none"))}const Ma=/\s*!important$/;function Hi(t,e,n){if(ne(n))n.forEach(r=>Hi(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Cg(t,e);Ma.test(n)?t.setProperty(vn(r),n.replace(Ma,""),"important"):t[r]=n}}const ka=["Webkit","Moz","ms"],Js={};function Cg(t,e){const n=Js[e];if(n)return n;let r=St(e);if(r!=="filter"&&r in t)return Js[e]=r;r=_s(r);for(let i=0;i<ka.length;i++){const s=ka[i]+r;if(s in t)return Js[e]=s}return e}const La="http://www.w3.org/1999/xlink";function Fa(t,e,n,r,i,s=Sp(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(La,e.slice(6,e.length)):t.setAttributeNS(La,e,n):n==null||s&&!pu(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Mt(n)?String(n):n)}function Ba(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?mf(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=pu(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function vf(t,e,n,r){t.addEventListener(e,n,r)}function wg(t,e,n,r){t.removeEventListener(e,n,r)}const Ua=Symbol("_vei");function Sg(t,e,n,r,i=null){const s=t[Ua]||(t[Ua]={}),o=s[e];if(r&&o)o.value=r;else{const[l,a]=Ig(e);if(r){const c=s[e]=xg(r,i);vf(t,l,c,a)}else o&&(wg(t,l,o,a),s[e]=void 0)}}const $a=/(?:Once|Passive|Capture)$/;function Ig(t){let e;if($a.test(t)){e={};let r;for(;r=t.match($a);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):vn(t.slice(2)),e]}let Xs=0;const Tg=Promise.resolve(),Rg=()=>Xs||(Tg.then(()=>Xs=0),Xs=Date.now());function xg(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Vt(Ag(r,n.value),e,5,[r])};return n.value=t,n.attached=Rg(),n}function Ag(t,e){if(ne(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Ha=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ng=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?mg(t,r,o):e==="style"?Eg(t,n,r):hs(e)?nl(e)||Sg(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Og(t,e,r,o))?(Ba(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Fa(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!He(r))?Ba(t,St(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Fa(t,e,r,o))};function Og(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ha(e)&&re(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ha(e)&&He(n)?!1:e in t}const Wa=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ne(e)?n=>Bi(e,n):e},Zs=Symbol("_assign"),Pg={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=ds(e);vf(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?du(qi(o)):qi(o));t[Zs](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,pl(()=>{t._assigning=!1})}),t[Zs]=Wa(r)},mounted(t,{value:e}){Va(t,e)},beforeUpdate(t,e,n){t[Zs]=Wa(n)},updated(t,{value:e}){t._assigning||Va(t,e)}};function Va(t,e){const n=t.multiple,r=ne(e);if(!(n&&!r&&!ds(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],l=qi(o);if(n)if(r){const a=typeof l;a==="string"||a==="number"?o.selected=e.some(c=>String(c)===String(l)):o.selected=Tp(e,l)>-1}else o.selected=e.has(l);else if(gs(qi(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function qi(t){return"_value"in t?t._value:t.value}const Dg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Mg=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=vn(i.key);if(e.some(o=>o===s||Dg[o]===s))return t(i)})},kg=ze({patchProp:Ng},_g);let ja;function Lg(){return ja||(ja=U_(kg))}const Fg=(...t)=>{const e=Lg().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Ug(r);if(!i)return;const s=e._component;!re(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,Bg(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function Bg(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Ug(t){return He(t)?document.querySelector(t):t}const vr=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},$g={},Hg={id:"nav"};function Wg(t,e){const n=An("router-link");return Ye(),yt("div",Hg,[Oe(n,{to:"/"},{default:Pn(()=>e[0]||(e[0]=[ni("Home")])),_:1}),Oe(n,{to:"/game"},{default:Pn(()=>e[1]||(e[1]=[ni("Game")])),_:1})])}const Vg=vr($g,[["render",Wg]]);const jg={components:{TheNavigation:Vg},methods:{stopAllSounds:function(){cd.pause(),cd.currentTime=0,wrongAnswer3.pause(),wrongAnswer3.currentTime=0}}},Gg={class:"container"};function Kg(t,e,n,r,i,s){const o=An("router-view");return Ye(),yt(nt,null,[e[0]||(e[0]=ie("main",null,null,-1)),ie("div",Gg,[Oe(o)])],64)}const zg=vr(jg,[["render",Kg]]);function qg(){return yf().__VUE_DEVTOOLS_GLOBAL_HOOK__}function yf(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const Yg=typeof Proxy=="function",Qg="devtools-plugin:setup",Jg="plugin:settings:set";let Vn,xo;function Xg(){var t;return Vn!==void 0||(typeof window<"u"&&window.performance?(Vn=!0,xo=window.performance):typeof globalThis<"u"&&((t=globalThis.perf_hooks)===null||t===void 0?void 0:t.performance)?(Vn=!0,xo=globalThis.perf_hooks.performance):Vn=!1),Vn}function Zg(){return Xg()?xo.now():Date.now()}class em{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const o in e.settings){const l=e.settings[o];r[o]=l.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const o=localStorage.getItem(i),l=JSON.parse(o);Object.assign(s,l)}catch{}this.fallbacks={getSettings(){return s},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}s=o},now(){return Zg()}},n&&n.on(Jg,(o,l)=>{o===this.plugin.id&&this.fallbacks.setSettings(l)}),this.proxiedOn=new Proxy({},{get:(o,l)=>this.target?this.target.on[l]:(...a)=>{this.onQueue.push({method:l,args:a})}}),this.proxiedTarget=new Proxy({},{get:(o,l)=>this.target?this.target[l]:l==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(l)?(...a)=>(this.targetQueue.push({method:l,args:a,resolve:()=>{}}),this.fallbacks[l](...a)):(...a)=>new Promise(c=>{this.targetQueue.push({method:l,args:a,resolve:c})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function tm(t,e){const n=t,r=yf(),i=qg(),s=Yg&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(Qg,t,e);else{const o=s?new em(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const zn=typeof document<"u";function bf(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function nm(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&bf(t.default)}const Ee=Object.assign;function eo(t,e){const n={};for(const r in e){const i=e[r];n[r]=kt(i)?i.map(t):t(i)}return n}const Gr=()=>{},kt=Array.isArray,Ef=/#/g,rm=/&/g,im=/\//g,sm=/=/g,om=/\?/g,Cf=/\+/g,lm=/%5B/g,am=/%5D/g,wf=/%5E/g,cm=/%60/g,Sf=/%7B/g,um=/%7C/g,If=/%7D/g,fm=/%20/g;function bl(t){return encodeURI(""+t).replace(um,"|").replace(lm,"[").replace(am,"]")}function hm(t){return bl(t).replace(Sf,"{").replace(If,"}").replace(wf,"^")}function Ao(t){return bl(t).replace(Cf,"%2B").replace(fm,"+").replace(Ef,"%23").replace(rm,"%26").replace(cm,"`").replace(Sf,"{").replace(If,"}").replace(wf,"^")}function dm(t){return Ao(t).replace(sm,"%3D")}function pm(t){return bl(t).replace(Ef,"%23").replace(om,"%3F")}function _m(t){return t==null?"":pm(t).replace(im,"%2F")}function ii(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const gm=/\/$/,mm=t=>t.replace(gm,"");function to(t,e,n="/"){let r,i={},s="",o="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(r=e.slice(0,a),s=e.slice(a+1,l>-1?l:e.length),i=t(s)),l>-1&&(r=r||e.slice(0,l),o=e.slice(l,e.length)),r=Em(r!=null?r:e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:ii(o)}}function vm(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Ga(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function ym(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ur(e.matched[r],n.matched[i])&&Tf(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ur(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Tf(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!bm(t[n],e[n]))return!1;return!0}function bm(t,e){return kt(t)?Ka(t,e):kt(e)?Ka(e,t):t===e}function Ka(t,e){return kt(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Em(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,l;for(o=0;o<r.length;o++)if(l=r[o],l!==".")if(l==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const ln={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var si;(function(t){t.pop="pop",t.push="push"})(si||(si={}));var Kr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Kr||(Kr={}));function Cm(t){if(!t)if(zn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),mm(t)}const wm=/^[^#]+#/;function Sm(t,e){return t.replace(wm,"#")+e}function Im(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const ws=()=>({left:window.scrollX,top:window.scrollY});function Tm(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=Im(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function za(t,e){return(history.state?history.state.position-e:-1)+t}const No=new Map;function Rm(t,e){No.set(t,e)}function xm(t){const e=No.get(t);return No.delete(t),e}let Am=()=>location.protocol+"//"+location.host;function Rf(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let l=i.includes(t.slice(s))?t.slice(s).length:1,a=i.slice(l);return a[0]!=="/"&&(a="/"+a),Ga(a,"")}return Ga(n,t)+r+i}function Nm(t,e,n,r){let i=[],s=[],o=null;const l=({state:h})=>{const g=Rf(t,location),w=n.value,R=e.value;let U=0;if(h){if(n.value=g,e.value=h,o&&o===w){o=null;return}U=R?h.position-R.position:0}else r(g);i.forEach(j=>{j(n.value,w,{delta:U,type:si.pop,direction:U?U>0?Kr.forward:Kr.back:Kr.unknown})})};function a(){o=n.value}function c(h){i.push(h);const g=()=>{const w=i.indexOf(h);w>-1&&i.splice(w,1)};return s.push(g),g}function f(){const{history:h}=window;!h.state||h.replaceState(Ee({},h.state,{scroll:ws()}),"")}function u(){for(const h of s)h();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:a,listen:c,destroy:u}}function qa(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?ws():null}}function Om(t){const{history:e,location:n}=window,r={value:Rf(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(a,c,f){const u=t.indexOf("#"),h=u>-1?(n.host&&document.querySelector("base")?t:t.slice(u))+a:Am()+t+a;try{e[f?"replaceState":"pushState"](c,"",h),i.value=c}catch(g){console.error(g),n[f?"replace":"assign"](h)}}function o(a,c){const f=Ee({},e.state,qa(i.value.back,a,i.value.forward,!0),c,{position:i.value.position});s(a,f,!0),r.value=a}function l(a,c){const f=Ee({},i.value,e.state,{forward:a,scroll:ws()});s(f.current,f,!0);const u=Ee({},qa(r.value,a,null),{position:f.position+1},c);s(a,u,!1),r.value=a}return{location:r,state:i,push:l,replace:o}}function Pm(t){t=Cm(t);const e=Om(t),n=Nm(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Ee({location:"",base:t,go:r,createHref:Sm.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function Dm(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Pm(t)}function Mm(t){return typeof t=="string"||t&&typeof t=="object"}function xf(t){return typeof t=="string"||typeof t=="symbol"}const Af=Symbol("");var Ya;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ya||(Ya={}));function fr(t,e){return Ee(new Error,{type:t,[Af]:!0},e)}function Kt(t,e){return t instanceof Error&&Af in t&&(e==null||!!(t.type&e))}const Qa="[^/]+?",km={sensitive:!1,strict:!1,start:!0,end:!0},Lm=/[.+*?^${}()[\]/\\]/g;function Fm(t,e){const n=Ee({},km,e),r=[];let i=n.start?"^":"";const s=[];for(const c of t){const f=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let u=0;u<c.length;u++){const h=c[u];let g=40+(n.sensitive?.25:0);if(h.type===0)u||(i+="/"),i+=h.value.replace(Lm,"\\$&"),g+=40;else if(h.type===1){const{value:w,repeatable:R,optional:U,regexp:j}=h;s.push({name:w,repeatable:R,optional:U});const $=j||Qa;if($!==Qa){g+=10;try{new RegExp(`(${$})`)}catch(K){throw new Error(`Invalid custom RegExp for param "${w}" (${$}): `+K.message)}}let Q=R?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;u||(Q=U&&c.length<2?`(?:/${Q})`:"/"+Q),U&&(Q+="?"),i+=Q,g+=20,U&&(g+=-8),R&&(g+=-20),$===".*"&&(g+=-50)}f.push(g)}r.push(f)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function l(c){const f=c.match(o),u={};if(!f)return null;for(let h=1;h<f.length;h++){const g=f[h]||"",w=s[h-1];u[w.name]=g&&w.repeatable?g.split("/"):g}return u}function a(c){let f="",u=!1;for(const h of t){(!u||!f.endsWith("/"))&&(f+="/"),u=!1;for(const g of h)if(g.type===0)f+=g.value;else if(g.type===1){const{value:w,repeatable:R,optional:U}=g,j=w in c?c[w]:"";if(kt(j)&&!R)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const $=kt(j)?j.join("/"):j;if(!$)if(U)h.length<2&&(f.endsWith("/")?f=f.slice(0,-1):u=!0);else throw new Error(`Missing required param "${w}"`);f+=$}}return f||"/"}return{re:o,score:r,keys:s,parse:l,stringify:a}}function Bm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Nf(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=Bm(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Ja(r))return 1;if(Ja(i))return-1}return i.length-r.length}function Ja(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Um={type:0,value:""},$m=/[a-zA-Z0-9_]/;function Hm(t){if(!t)return[[]];if(t==="/")return[[Um]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${c}": ${g}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let l=0,a,c="",f="";function u(){!c||(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:f,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=a}for(;l<t.length;){if(a=t[l++],a==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:a==="/"?(c&&u(),o()):a===":"?(u(),n=1):h();break;case 4:h(),n=r;break;case 1:a==="("?n=2:$m.test(a)?h():(u(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+a:n=3:f+=a;break;case 3:u(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,f="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),u(),o(),i}function Wm(t,e,n){const r=Fm(Hm(t.path),n),i=Ee(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Vm(t,e){const n=[],r=new Map;e=tc({strict:!1,end:!0,sensitive:!1},e);function i(u){return r.get(u)}function s(u,h,g){const w=!g,R=Za(u);R.aliasOf=g&&g.record;const U=tc(e,u),j=[R];if("alias"in u){const K=typeof u.alias=="string"?[u.alias]:u.alias;for(const O of K)j.push(Za(Ee({},R,{components:g?g.record.components:R.components,path:O,aliasOf:g?g.record:R})))}let $,Q;for(const K of j){const{path:O}=K;if(h&&O[0]!=="/"){const Z=h.record.path,z=Z[Z.length-1]==="/"?"":"/";K.path=h.record.path+(O&&z+O)}if($=Wm(K,h,U),g?g.alias.push($):(Q=Q||$,Q!==$&&Q.alias.push($),w&&u.name&&!ec($)&&o(u.name)),Of($)&&a($),R.children){const Z=R.children;for(let z=0;z<Z.length;z++)s(Z[z],$,g&&g.children[z])}g=g||$}return Q?()=>{o(Q)}:Gr}function o(u){if(xf(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function l(){return n}function a(u){const h=Km(u,n);n.splice(h,0,u),u.record.name&&!ec(u)&&r.set(u.record.name,u)}function c(u,h){let g,w={},R,U;if("name"in u&&u.name){if(g=r.get(u.name),!g)throw fr(1,{location:u});U=g.record.name,w=Ee(Xa(h.params,g.keys.filter(Q=>!Q.optional).concat(g.parent?g.parent.keys.filter(Q=>Q.optional):[]).map(Q=>Q.name)),u.params&&Xa(u.params,g.keys.map(Q=>Q.name))),R=g.stringify(w)}else if(u.path!=null)R=u.path,g=n.find(Q=>Q.re.test(R)),g&&(w=g.parse(R),U=g.record.name);else{if(g=h.name?r.get(h.name):n.find(Q=>Q.re.test(h.path)),!g)throw fr(1,{location:u,currentLocation:h});U=g.record.name,w=Ee({},h.params,u.params),R=g.stringify(w)}const j=[];let $=g;for(;$;)j.unshift($.record),$=$.parent;return{name:U,path:R,params:w,matched:j,meta:Gm(j)}}t.forEach(u=>s(u));function f(){n.length=0,r.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:f,getRoutes:l,getRecordMatcher:i}}function Xa(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Za(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:jm(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function jm(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function ec(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Gm(t){return t.reduce((e,n)=>Ee(e,n.meta),{})}function tc(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Km(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;Nf(t,e[s])<0?r=s:n=s+1}const i=zm(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function zm(t){let e=t;for(;e=e.parent;)if(Of(e)&&Nf(t,e)===0)return e}function Of({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function qm(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(Cf," "),o=s.indexOf("="),l=ii(o<0?s:s.slice(0,o)),a=o<0?null:ii(s.slice(o+1));if(l in e){let c=e[l];kt(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function nc(t){let e="";for(let n in t){const r=t[n];if(n=dm(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(kt(r)?r.map(s=>s&&Ao(s)):[r&&Ao(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function Ym(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=kt(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const Qm=Symbol(""),rc=Symbol(""),El=Symbol(""),Pf=Symbol(""),Oo=Symbol("");function Nr(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function un(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((l,a)=>{const c=h=>{h===!1?a(fr(4,{from:n,to:e})):h instanceof Error?a(h):Mm(h)?a(fr(2,{from:e,to:h})):(o&&r.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),l())},f=s(()=>t.call(r&&r.instances[i],e,n,c));let u=Promise.resolve(f);t.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function no(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const l in o.components){let a=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(bf(a)){const f=(a.__vccOpts||a)[e];f&&s.push(un(f,n,r,o,l,i))}else{let c=a();s.push(()=>c.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const u=nm(f)?f.default:f;o.mods[l]=f,o.components[l]=u;const g=(u.__vccOpts||u)[e];return g&&un(g,n,r,o,l,i)()}))}}return s}function ic(t){const e=Wt(El),n=Wt(Pf),r=Ct(()=>{const a=Zn(t.to);return e.resolve(a)}),i=Ct(()=>{const{matched:a}=r.value,{length:c}=a,f=a[c-1],u=n.matched;if(!f||!u.length)return-1;const h=u.findIndex(ur.bind(null,f));if(h>-1)return h;const g=sc(a[c-2]);return c>1&&sc(f)===g&&u[u.length-1].path!==g?u.findIndex(ur.bind(null,a[c-2])):h}),s=Ct(()=>i.value>-1&&ev(n.params,r.value.params)),o=Ct(()=>i.value>-1&&i.value===n.matched.length-1&&Tf(n.params,r.value.params));function l(a={}){return Zm(a)?e[Zn(t.replace)?"replace":"push"](Zn(t.to)).catch(Gr):Promise.resolve()}return{route:r,href:Ct(()=>r.value.href),isActive:s,isExactActive:o,navigate:l}}const Jm=Hu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ic,setup(t,{slots:e}){const n=yi(ic(t)),{options:r}=Wt(El),i=Ct(()=>({[oc(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[oc(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:gf("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),Xm=Jm;function Zm(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ev(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!kt(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function sc(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const oc=(t,e,n)=>t!=null?t:e!=null?e:n,tv=Hu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Wt(Oo),i=Ct(()=>t.route||r.value),s=Wt(rc,0),o=Ct(()=>{let c=Zn(s);const{matched:f}=i.value;let u;for(;(u=f[c])&&!u.components;)c++;return c}),l=Ct(()=>i.value.matched[o.value]);Ui(rc,Ct(()=>o.value+1)),Ui(Qm,l),Ui(Oo,i);const a=qp();return rr(()=>[a.value,l.value,t.name],([c,f,u],[h,g,w])=>{f&&(f.instances[u]=c,g&&g!==f&&c&&c===h&&(f.leaveGuards.size||(f.leaveGuards=g.leaveGuards),f.updateGuards.size||(f.updateGuards=g.updateGuards))),c&&f&&(!g||!ur(f,g)||!h)&&(f.enterCallbacks[u]||[]).forEach(R=>R(c))},{flush:"post"}),()=>{const c=i.value,f=t.name,u=l.value,h=u&&u.components[f];if(!h)return lc(n.default,{Component:h,route:c});const g=u.props[f],w=g?g===!0?c.params:typeof g=="function"?g(c):g:null,U=gf(h,Ee({},w,e,{onVnodeUnmounted:j=>{j.component.isUnmounted&&(u.instances[f]=null)},ref:a}));return lc(n.default,{Component:U,route:c})||U}}});function lc(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const nv=tv;function rv(t){const e=Vm(t.routes,t),n=t.parseQuery||qm,r=t.stringifyQuery||nc,i=t.history,s=Nr(),o=Nr(),l=Nr(),a=Yp(ln);let c=ln;zn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=eo.bind(null,T=>""+T),u=eo.bind(null,_m),h=eo.bind(null,ii);function g(T,G){let W,q;return xf(T)?(W=e.getRecordMatcher(T),q=G):q=T,e.addRoute(q,W)}function w(T){const G=e.getRecordMatcher(T);G&&e.removeRoute(G)}function R(){return e.getRoutes().map(T=>T.record)}function U(T){return!!e.getRecordMatcher(T)}function j(T,G){if(G=Ee({},G||a.value),typeof T=="string"){const m=to(n,T,G.path),C=e.resolve({path:m.path},G),x=i.createHref(m.fullPath);return Ee(m,C,{params:h(C.params),hash:ii(m.hash),redirectedFrom:void 0,href:x})}let W;if(T.path!=null)W=Ee({},T,{path:to(n,T.path,G.path).path});else{const m=Ee({},T.params);for(const C in m)m[C]==null&&delete m[C];W=Ee({},T,{params:u(m)}),G.params=u(G.params)}const q=e.resolve(W,G),de=T.hash||"";q.params=f(h(q.params));const Ie=vm(r,Ee({},T,{hash:hm(de),path:q.path})),_=i.createHref(Ie);return Ee({fullPath:Ie,hash:de,query:r===nc?Ym(T.query):T.query||{}},q,{redirectedFrom:void 0,href:_})}function $(T){return typeof T=="string"?to(n,T,a.value.path):Ee({},T)}function Q(T,G){if(c!==T)return fr(8,{from:G,to:T})}function K(T){return z(T)}function O(T){return K(Ee($(T),{replace:!0}))}function Z(T){const G=T.matched[T.matched.length-1];if(G&&G.redirect){const{redirect:W}=G;let q=typeof W=="function"?W(T):W;return typeof q=="string"&&(q=q.includes("?")||q.includes("#")?q=$(q):{path:q},q.params={}),Ee({query:T.query,hash:T.hash,params:q.path!=null?{}:T.params},q)}}function z(T,G){const W=c=j(T),q=a.value,de=T.state,Ie=T.force,_=T.replace===!0,m=Z(W);if(m)return z(Ee($(m),{state:typeof m=="object"?Ee({},de,m.state):de,force:Ie,replace:_}),G||W);const C=W;C.redirectedFrom=G;let x;return!Ie&&ym(r,q,W)&&(x=fr(16,{to:C,from:q}),Ue(q,q,!0,!1)),(x?Promise.resolve(x):Pe(C,q)).catch(S=>Kt(S)?Kt(S,2)?S:Ft(S):he(S,C,q)).then(S=>{if(S){if(Kt(S,2))return z(Ee({replace:_},$(S.to),{state:typeof S.to=="object"?Ee({},de,S.to.state):de,force:Ie}),G||C)}else S=Fe(C,q,!0,_,de);return ke(C,q,S),S})}function se(T,G){const W=Q(T,G);return W?Promise.reject(W):Promise.resolve()}function Se(T){const G=sn.values().next().value;return G&&typeof G.runWithContext=="function"?G.runWithContext(T):T()}function Pe(T,G){let W;const[q,de,Ie]=iv(T,G);W=no(q.reverse(),"beforeRouteLeave",T,G);for(const m of q)m.leaveGuards.forEach(C=>{W.push(un(C,T,G))});const _=se.bind(null,T,G);return W.push(_),ut(W).then(()=>{W=[];for(const m of s.list())W.push(un(m,T,G));return W.push(_),ut(W)}).then(()=>{W=no(de,"beforeRouteUpdate",T,G);for(const m of de)m.updateGuards.forEach(C=>{W.push(un(C,T,G))});return W.push(_),ut(W)}).then(()=>{W=[];for(const m of Ie)if(m.beforeEnter)if(kt(m.beforeEnter))for(const C of m.beforeEnter)W.push(un(C,T,G));else W.push(un(m.beforeEnter,T,G));return W.push(_),ut(W)}).then(()=>(T.matched.forEach(m=>m.enterCallbacks={}),W=no(Ie,"beforeRouteEnter",T,G,Se),W.push(_),ut(W))).then(()=>{W=[];for(const m of o.list())W.push(un(m,T,G));return W.push(_),ut(W)}).catch(m=>Kt(m,8)?m:Promise.reject(m))}function ke(T,G,W){l.list().forEach(q=>Se(()=>q(T,G,W)))}function Fe(T,G,W,q,de){const Ie=Q(T,G);if(Ie)return Ie;const _=G===ln,m=zn?history.state:{};W&&(q||_?i.replace(T.fullPath,Ee({scroll:_&&m&&m.scroll},de)):i.push(T.fullPath,de)),a.value=T,Ue(T,G,W,_),Ft()}let Be;function It(){Be||(Be=i.listen((T,G,W)=>{if(!$n.listening)return;const q=j(T),de=Z(q);if(de){z(Ee(de,{replace:!0}),q).catch(Gr);return}c=q;const Ie=a.value;zn&&Rm(za(Ie.fullPath,W.delta),ws()),Pe(q,Ie).catch(_=>Kt(_,12)?_:Kt(_,2)?(z(_.to,q).then(m=>{Kt(m,20)&&!W.delta&&W.type===si.pop&&i.go(-1,!1)}).catch(Gr),Promise.reject()):(W.delta&&i.go(-W.delta,!1),he(_,q,Ie))).then(_=>{_=_||Fe(q,Ie,!1),_&&(W.delta&&!Kt(_,8)?i.go(-W.delta,!1):W.type===si.pop&&Kt(_,20)&&i.go(-1,!1)),ke(q,Ie,_)}).catch(Gr)}))}let Tt=Nr(),De=Nr(),fe;function he(T,G,W){Ft(T);const q=De.list();return q.length?q.forEach(de=>de(T,G,W)):console.error(T),Promise.reject(T)}function Rt(){return fe&&a.value!==ln?Promise.resolve():new Promise((T,G)=>{Tt.add([T,G])})}function Ft(T){return fe||(fe=!T,It(),Tt.list().forEach(([G,W])=>T?W(T):G()),Tt.reset()),T}function Ue(T,G,W,q){const{scrollBehavior:de}=t;if(!zn||!de)return Promise.resolve();const Ie=!W&&xm(za(T.fullPath,0))||(q||!W)&&history.state&&history.state.scroll||null;return pl().then(()=>de(T,G,Ie)).then(_=>_&&Tm(_)).catch(_=>he(_,T,G))}const qe=T=>i.go(T);let rn;const sn=new Set,$n={currentRoute:a,listening:!0,addRoute:g,removeRoute:w,clearRoutes:e.clearRoutes,hasRoute:U,getRoutes:R,resolve:j,options:t,push:K,replace:O,go:qe,back:()=>qe(-1),forward:()=>qe(1),beforeEach:s.add,beforeResolve:o.add,afterEach:l.add,onError:De.add,isReady:Rt,install(T){const G=this;T.component("RouterLink",Xm),T.component("RouterView",nv),T.config.globalProperties.$router=G,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>Zn(a)}),zn&&!rn&&a.value===ln&&(rn=!0,K(i.location).catch(de=>{}));const W={};for(const de in ln)Object.defineProperty(W,de,{get:()=>a.value[de],enumerable:!0});T.provide(El,G),T.provide(Pf,Pu(W)),T.provide(Oo,a);const q=T.unmount;sn.add(T),T.unmount=function(){sn.delete(T),sn.size<1&&(c=ln,Be&&Be(),Be=null,a.value=ln,rn=!1,fe=!1),q()}}};function ut(T){return T.reduce((G,W)=>G.then(()=>Se(W)),Promise.resolve())}return $n}function iv(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const l=e.matched[o];l&&(t.matched.find(c=>ur(c,l))?r.push(l):n.push(l));const a=t.matched[o];a&&(e.matched.find(c=>ur(c,a))||i.push(a))}return[n,r,i]}const sv={data(){return{level:""}},watch:{level:function(t){this.level==="easy"?(console.log("entered"),this.$store.commit("easy")):this.level==="medium"?this.$store.commit("medium"):this.level==="hard"&&this.$store.commit("hard")}}},ov={class:"home"},lv=["disabled","onClick"];function av(t,e,n,r,i,s){const o=An("router-link");return Ye(),yt(nt,null,[e[3]||(e[3]=ie("head",null,[ie("link",{href:"https://fonts.googleapis.com/css2?family=Stalinist+One&display=swap",rel:"stylesheet"})],-1)),ie("div",ov,[e[2]||(e[2]=ie("h1",{class:"header"},"Fun Quiz Game",-1)),Oe(o,{to:"/game",custom:""},{default:Pn(({navigate:l})=>[ie("button",{disabled:i.level==="",onClick:l,role:"link",id:"hb"}," Play! ",8,lv)]),_:1}),s_(ie("select",{class:"levels","onUpdate:modelValue":e[0]||(e[0]=l=>i.level=l)},e[1]||(e[1]=[ie("option",{class:"levels",disabled:"",value:""},"Select a difficulty",-1),ie("option",{class:"levels",value:"easy"},"easy",-1),ie("option",{class:"levels",value:"medium"},"medium",-1),ie("option",{class:"levels",value:"hard"},"hard",-1)]),512),[[Pg,i.level]])])],64)}const cv=vr(sv,[["render",av]]);const uv={name:"VButton",props:{option:null,onclick:null,isCorrect:null},computed:{className:function(){return this.isCorrect?"correct":"incorrect"}}};function fv(t,e,n,r,i,s){return Ye(),yt("button",{id:"optionBtn",onClick:e[0]||(e[0]=(...o)=>n.onclick&&n.onclick(...o))},Ht(n.option),1)}const hv=vr(uv,[["render",fv],["__scopeId","data-v-dabbe9ee"]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k=function(t,e){if(!t)throw yr(e)},yr=function(t){return new Error("Firebase Database ("+Df.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Cl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,f=s>>2,u=(s&3)<<4|l>>4;let h=(l&15)<<2|c>>6,g=c&63;a||(g=64,o||(h=64)),r.push(n[f],n[u],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Mf(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const u=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||u==null)throw new pv;const h=s<<2|l>>4;if(r.push(h),c!==64){const g=l<<4&240|c>>2;if(r.push(g),u!==64){const w=c<<6&192|u;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kf=function(t){const e=Mf(t);return Cl.encodeByteArray(e,!0)},Yi=function(t){return kf(t).replace(/\./g,"")},Po=function(t){try{return Cl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t){return Lf(void 0,t)}function Lf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!gv(n)||(t[n]=Lf(t[n],e[n]));return t}function gv(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=()=>mv().__FIREBASE_DEFAULTS__,yv=()=>{if(typeof process>"u"||typeof{}>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bv=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Po(t[1]);return e&&JSON.parse(e)},Ff=()=>{try{return vv()||yv()||bv()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ev=t=>{var e,n;return(n=(e=Ff())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Cv=t=>{const e=Ev(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Bf=()=>{var t;return(t=Ff())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Yi(JSON.stringify(n)),Yi(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sv())}function Iv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $f(){return Df.NODE_ADMIN===!0}function Tv(){try{return typeof indexedDB=="object"}catch{return!1}}function Rv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="FirebaseError";class Ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xv,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hf.prototype.create)}}class Hf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Av(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ci(i,l,r)}}function Av(t,e){return t.replace(Nv,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Nv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t){return JSON.parse(t)}function Ke(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=oi(Po(s[0])||""),n=oi(Po(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Ov=function(t){const e=Wf(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Pv=function(t){const e=Wf(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function hr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ac(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qi(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Do(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(cc(s)&&cc(o)){if(!Do(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function cc(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let u=0;u<16;u++)r[u]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let u=0;u<16;u++)r[u]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let u=16;u<80;u++){const h=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,f;for(let u=0;u<80;u++){u<40?u<20?(c=l^s&(o^l),f=1518500249):(c=s^o^l,f=1859775393):u<60?(c=s&o|l&(s|o),f=2400959708):(c=s^o^l,f=3395469782);const h=(i<<5|i>>>27)+c+a+f+r[u]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function wl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,k(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Is=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t){return t&&t._delegate?t._delegate:t}class li{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ss;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bv(e))try{this.getOrInitializeService({instanceIdentifier:Sn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Sn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sn){return this.instances.has(e)}getOptions(e=Sn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fv(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sn){return this.component?this.component.multipleInstances?e:Sn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fv(t){return t===Sn?void 0:t}function Bv(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Lv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const $v={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Hv=Re.INFO,Wv={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Vv=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Wv[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vf{constructor(e){this.name=e,this._logLevel=Hv,this._logHandler=Vv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$v[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const jv=(t,e)=>e.some(n=>t instanceof n);let uc,fc;function Gv(){return uc||(uc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kv(){return fc||(fc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jf=new WeakMap,Mo=new WeakMap,Gf=new WeakMap,ro=new WeakMap,Sl=new WeakMap;function zv(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jf.set(n,t)}).catch(()=>{}),Sl.set(e,t),e}function qv(t){if(Mo.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Mo.set(t,e)}let ko={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mo.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gf.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Yv(t){ko=t(ko)}function Qv(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(io(this),e,...n);return Gf.set(r,e.sort?e.sort():[e]),hn(r)}:Kv().includes(t)?function(...e){return t.apply(io(this),e),hn(jf.get(this))}:function(...e){return hn(t.apply(io(this),e))}}function Jv(t){return typeof t=="function"?Qv(t):(t instanceof IDBTransaction&&qv(t),jv(t,Gv())?new Proxy(t,ko):t)}function hn(t){if(t instanceof IDBRequest)return zv(t);if(ro.has(t))return ro.get(t);const e=Jv(t);return e!==t&&(ro.set(t,e),Sl.set(e,t)),e}const io=t=>Sl.get(t);function Xv(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=hn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(hn(o.result),a.oldVersion,a.newVersion,hn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const Zv=["get","getKey","getAll","getAllKeys","count"],ey=["put","add","delete","clear"],so=new Map;function hc(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(so.get(e))return so.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ey.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Zv.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&a.done]))[0]};return so.set(e,s),s}Yv(t=>({...t,get:(e,n,r)=>hc(e,n)||t.get(e,n,r),has:(e,n)=>!!hc(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ny(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ny(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lo="@firebase/app",dc="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn=new Vf("@firebase/app"),ry="@firebase/app-compat",iy="@firebase/analytics-compat",sy="@firebase/analytics",oy="@firebase/app-check-compat",ly="@firebase/app-check",ay="@firebase/auth",cy="@firebase/auth-compat",uy="@firebase/database",fy="@firebase/database-compat",hy="@firebase/functions",dy="@firebase/functions-compat",py="@firebase/installations",_y="@firebase/installations-compat",gy="@firebase/messaging",my="@firebase/messaging-compat",vy="@firebase/performance",yy="@firebase/performance-compat",by="@firebase/remote-config",Ey="@firebase/remote-config-compat",Cy="@firebase/storage",wy="@firebase/storage-compat",Sy="@firebase/firestore",Iy="@firebase/firestore-compat",Ty="firebase",Ry="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="[DEFAULT]",xy={[Lo]:"fire-core",[ry]:"fire-core-compat",[sy]:"fire-analytics",[iy]:"fire-analytics-compat",[ly]:"fire-app-check",[oy]:"fire-app-check-compat",[ay]:"fire-auth",[cy]:"fire-auth-compat",[uy]:"fire-rtdb",[fy]:"fire-rtdb-compat",[hy]:"fire-fn",[dy]:"fire-fn-compat",[py]:"fire-iid",[_y]:"fire-iid-compat",[gy]:"fire-fcm",[my]:"fire-fcm-compat",[vy]:"fire-perf",[yy]:"fire-perf-compat",[by]:"fire-rc",[Ey]:"fire-rc-compat",[Cy]:"fire-gcs",[wy]:"fire-gcs-compat",[Sy]:"fire-fst",[Iy]:"fire-fst-compat","fire-js":"fire-js",[Ty]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Map,Bo=new Map;function Ay(t,e){try{t.container.addComponent(e)}catch(n){Dn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xi(t){const e=t.name;if(Bo.has(e))return Dn.debug(`There were multiple attempts to register component ${e}.`),!1;Bo.set(e,t);for(const n of Ji.values())Ay(n,t);return!0}function Ny(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},dn=new Hf("app","Firebase",Oy);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=Ry;function Kf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fo,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw dn.create("bad-app-name",{appName:String(i)});if(n||(n=Bf()),!n)throw dn.create("no-options");const s=Ji.get(i);if(s){if(Do(n,s.options)&&Do(r,s.config))return s;throw dn.create("duplicate-app",{appName:i})}const o=new Uv(i);for(const a of Bo.values())o.addComponent(a);const l=new Py(n,r,o);return Ji.set(i,l),l}function My(t=Fo){const e=Ji.get(t);if(!e&&t===Fo&&Bf())return Kf();if(!e)throw dn.create("no-app",{appName:t});return e}function ir(t,e,n){var r;let i=(r=xy[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dn.warn(l.join(" "));return}Xi(new li(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="firebase-heartbeat-database",Ly=1,ai="firebase-heartbeat-store";let oo=null;function zf(){return oo||(oo=Xv(ky,Ly,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ai)}}}).catch(t=>{throw dn.create("idb-open",{originalErrorMessage:t.message})})),oo}async function Fy(t){try{return await(await zf()).transaction(ai).objectStore(ai).get(qf(t))}catch(e){if(e instanceof Ci)Dn.warn(e.message);else{const n=dn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dn.warn(n.message)}}}async function pc(t,e){try{const r=(await zf()).transaction(ai,"readwrite");await r.objectStore(ai).put(e,qf(t)),await r.done}catch(n){if(n instanceof Ci)Dn.warn(n.message);else{const r=dn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dn.warn(r.message)}}}function qf(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=1024,Uy=30*24*60*60*1e3;class $y{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Wy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_c();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Uy}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_c(),{heartbeatsToSend:n,unsentEntries:r}=Hy(this._heartbeatsCache.heartbeats),i=Yi(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function _c(){return new Date().toISOString().substring(0,10)}function Hy(t,e=By){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gc(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gc(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Wy{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tv()?Rv().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Fy(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gc(t){return Yi(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t){Xi(new li("platform-logger",e=>new ty(e),"PRIVATE")),Xi(new li("heartbeat",e=>new $y(e),"PRIVATE")),ir(Lo,dc,t),ir(Lo,dc,"esm2017"),ir("fire-js","")}Vy("");const mc="@firebase/database",vc="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yf="";function jy(t){Yf=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:oi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return tn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Gy(e)}}catch{}return new Ky},Tn=Qf("localStorage"),Uo=Qf("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new Vf("@firebase/database"),zy=function(){let t=1;return function(){return t++}}(),Jf=function(t){const e=kv(t),n=new Mv;n.update(e);const r=n.digest();return Cl.encodeByteArray(r)},wi=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=wi.apply(null,r):typeof r=="object"?e+=Ke(r):e+=r,e+=" "}return e};let Nn=null,yc=!0;const qy=function(t,e){k(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(sr.logLevel=Re.VERBOSE,Nn=sr.log.bind(sr),e&&Uo.set("logging_enabled",!0)):typeof t=="function"?Nn=t:(Nn=null,Uo.remove("logging_enabled"))},rt=function(...t){if(yc===!0&&(yc=!1,Nn===null&&Uo.get("logging_enabled")===!0&&qy(!0)),Nn){const e=wi.apply(null,t);Nn(e)}},Si=function(t){return function(...e){rt(t,...e)}},$o=function(...t){const e="FIREBASE INTERNAL ERROR: "+wi(...t);sr.error(e)},Xt=function(...t){const e=`FIREBASE FATAL ERROR: ${wi(...t)}`;throw sr.error(e),new Error(e)},_t=function(...t){const e="FIREBASE WARNING: "+wi(...t);sr.warn(e)},Yy=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&_t("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Xf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Qy=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},dr="[MIN_NAME]",Mn="[MAX_NAME]",Er=function(t,e){if(t===e)return 0;if(t===dr||e===Mn)return-1;if(e===dr||t===Mn)return 1;{const n=bc(t),r=bc(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Jy=function(t,e){return t===e?0:t<e?-1:1},Or=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ke(e))},Il=function(t){if(typeof t!="object"||t===null)return Ke(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ke(e[r]),n+=":",n+=Il(t[e[r]]);return n+="}",n},Zf=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function gt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const eh=function(t){k(!Xf(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const f=c.join("");let u="";for(a=0;a<64;a+=8){let h=parseInt(f.substr(a,8),2).toString(16);h.length===1&&(h="0"+h),u=u+h}return u.toLowerCase()},Xy=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Zy=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function eb(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const tb=new RegExp("^-?(0*)\\d{1,10}$"),nb=-2147483648,rb=2147483647,bc=function(t){if(tb.test(t)){const e=Number(t);if(e>=nb&&e<=rb)return e}return null},Cr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw _t("Exception was thrown by user callback.",n),e},Math.floor(0))}},ib=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},zr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){_t(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(rt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_t(e)}}class or{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}or.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="5",th="v",nh="s",rh="r",ih="f",sh=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oh="ls",lh="p",Ho="ac",ah="websocket",ch="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Tn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function lb(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function fh(t,e,n){k(typeof e=="string","typeof type must == string"),k(typeof n=="object","typeof params must == object");let r;if(e===ah)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===ch)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);lb(t)&&(n.ns=t.namespace);const i=[];return gt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.counters_={}}incrementCounter(e,n=1){tn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return _v(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo={},ao={};function Rl(t){const e=t.toString();return lo[e]||(lo[e]=new ab),lo[e]}function cb(t,e){const n=t.toString();return ao[n]||(ao[n]=e()),ao[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Cr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec="start",fb="close",hb="pLPCommand",db="pRTLPCB",hh="id",dh="pw",ph="ser",pb="cb",_b="seg",gb="ts",mb="d",vb="dframe",_h=1870,gh=30,yb=_h-gh,bb=25e3,Eb=3e4;class Yn{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Si(e),this.stats_=Rl(n),this.urlFn=a=>(this.appCheckToken&&(a[Ho]=this.appCheckToken),fh(n,ch,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ub(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Eb)),Qy(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xl((...s)=>{const[o,l,a,c,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Ec)this.id=l,this.password=a;else if(o===fb)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Ec]="t",r[ph]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[pb]=this.scriptTagHolder.uniqueCallbackIdentifier),r[th]=Tl,this.transportSessionId&&(r[nh]=this.transportSessionId),this.lastSessionId&&(r[oh]=this.lastSessionId),this.applicationId&&(r[lh]=this.applicationId),this.appCheckToken&&(r[Ho]=this.appCheckToken),typeof location<"u"&&location.hostname&&sh.test(location.hostname)&&(r[rh]=ih);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yn.forceAllow_=!0}static forceDisallow(){Yn.forceDisallow_=!0}static isAvailable(){return Yn.forceAllow_?!0:!Yn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Xy()&&!Zy()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=kf(n),i=Zf(r,yb);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[vb]="t",r[hh]=e,r[dh]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ke(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class xl{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=zy(),window[hb+this.uniqueCallbackIdentifier]=e,window[db+this.uniqueCallbackIdentifier]=n,this.myIFrame=xl.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){rt("frame writing exception"),l.stack&&rt(l.stack),rt(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||rt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[hh]=this.myID,e[dh]=this.myPW,e[ph]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+gh+r.length<=_h;){const o=this.pendingSegs.shift();r=r+"&"+_b+i+"="+o.seg+"&"+gb+i+"="+o.ts+"&"+mb+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(bb)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{rt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=16384,wb=45e3;let Zi=null;typeof MozWebSocket<"u"?Zi=MozWebSocket:typeof WebSocket<"u"&&(Zi=WebSocket);class xt{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Si(this.connId),this.stats_=Rl(n),this.connURL=xt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[th]=Tl,typeof location<"u"&&location.hostname&&sh.test(location.hostname)&&(o[rh]=ih),n&&(o[nh]=n),r&&(o[oh]=r),i&&(o[Ho]=i),s&&(o[lh]=s),fh(e,ah,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tn.set("previous_websocket_failure",!0);try{let r;$f(),this.mySock=new Zi(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){xt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Zi!==null&&!xt.forceDisallow_}static previouslyFailed(){return Tn.isInMemoryStorage||Tn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Tn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=oi(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(k(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Zf(n,Cb);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wb))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}xt.responsesRequiredToBeHealthy=2;xt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Yn,xt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=xt&&xt.isAvailable();let r=n&&!xt.previouslyFailed();if(e.webSocketOnly&&(n||_t("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[xt];else{const i=this.transports_=[];for(const s of ci.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ci.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ci.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=6e4,Ib=5e3,Tb=10*1024,Rb=100*1024,co="t",Cc="d",xb="s",wc="r",Ab="e",Sc="o",Ic="a",Tc="n",Rc="p",Nb="h";class Ob{constructor(e,n,r,i,s,o,l,a,c,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Si("c:"+this.id+":"),this.transportManager_=new ci(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=zr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Rb?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Tb?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(co in e){const n=e[co];n===Ic?this.upgradeIfSecondaryHealthy_():n===wc?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Sc&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Or("t",e),r=Or("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Rc,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ic,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Tc,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Or("t",e),r=Or("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Or(co,e);if(Cc in e){const r=e[Cc];if(n===Nb){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Tc){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===xb?this.onConnectionShutdown_(r):n===wc?this.onReset_(r):n===Ab?$o("Server Error: "+r):n===Sc?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$o("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Tl!==r&&_t("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),zr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Sb))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Ib))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Rc,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e){this.allowedEvents_=e,this.listeners_={},k(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){k(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends vh{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Uf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new es}getInitialEvent(e){return k(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=32,Ac=768;class we{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function _e(){return new we("")}function le(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function gn(t){return t.pieces_.length-t.pieceNum_}function xe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new we(t.pieces_,e)}function yh(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Pb(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function bh(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Eh(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new we(e,0)}function Ve(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof we)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new we(n,0)}function ue(t){return t.pieceNum_>=t.pieces_.length}function dt(t,e){const n=le(t),r=le(e);if(n===null)return e;if(n===r)return dt(xe(t),xe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Al(t,e){if(gn(t)!==gn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function At(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(gn(t)>gn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Db{constructor(e,n){this.errorPrefix_=n,this.parts_=bh(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Is(this.parts_[r]);Ch(this)}}function Mb(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Is(e),Ch(t)}function kb(t){const e=t.parts_.pop();t.byteLength_-=Is(e),t.parts_.length>0&&(t.byteLength_-=1)}function Ch(t){if(t.byteLength_>Ac)throw new Error(t.errorPrefix_+"has a key path longer than "+Ac+" bytes ("+t.byteLength_+").");if(t.parts_.length>xc)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xc+") or object contains a cycle "+In(t))}function In(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends vh{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Nl}getInitialEvent(e){return k(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=1e3,Lb=60*5*1e3,Nc=30*1e3,Fb=1.3,Bb=3e4,Ub="server_kill",Oc=3;class Jt extends mh{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Jt.nextPersistentConnectionId_++,this.log_=Si("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pr,this.maxReconnectDelay_=Lb,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!$f())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Nl.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&es.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ke(s)),k(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Ss,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),k(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,c=l.s;Jt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&tn(e,"w")){const r=hr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();_t(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Pv(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Nc)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Ov(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ke(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):$o("Unrecognized action received from server: "+Ke(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){k(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Pr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Bb&&(this.reconnectDelay_=Pr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Fb)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Jt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},c=function(u){k(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(u)};this.realtime_={close:a,sendRequest:c};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[u,h]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?rt("getToken() completed but was canceled"):(rt("getToken() completed. Creating connection."),this.authToken_=u&&u.accessToken,this.appCheckToken_=h&&h.token,l=new Ob(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{_t(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ub)},s))}catch(u){this.log_("Failed to get token: "+u),o||(this.repoInfo_.nodeAdmin&&_t(u),a())}}}interrupt(e){rt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){rt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ac(this.interruptReasons_)&&(this.reconnectDelay_=Pr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Il(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new we(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){rt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Oc&&(this.reconnectDelay_=Nc,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){rt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Oc&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Yf.replace(/\./g,"-")]=1,Uf()?e["framework.cordova"]=1:Iv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=es.getInstance().currentlyOnline();return ac(this.interruptReasons_)&&e}}Jt.nextPersistentConnectionId_=0;Jt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ae(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ae(dr,e),i=new ae(dr,n);return this.compare(r,i)!==0}minPost(){return ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Di;class wh extends Ts{static get __EMPTY_NODE(){return Di}static set __EMPTY_NODE(e){Di=e}compare(e,n){return Er(e.name,n.name)}isDefinedOn(e){throw yr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ae.MIN}maxPost(){return new ae(Mn,Di)}makePost(e,n){return k(typeof e=="string","KeyIndex indexValue must always be a string."),new ae(e,Di)}toString(){return".key"}}const lr=new wh;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ge{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:Ge.RED,this.left=i!=null?i:pt.EMPTY_NODE,this.right=s!=null?s:pt.EMPTY_NODE}copy(e,n,r,i,s){return new Ge(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return pt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return pt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ge.RED=!0;Ge.BLACK=!1;class $b{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ge(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class pt{constructor(e,n=pt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new pt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ge.BLACK,null,null))}remove(e){return new pt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ge.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Mi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Mi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Mi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Mi(this.root_,null,this.comparator_,!0,e)}}pt.EMPTY_NODE=new $b;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t,e){return Er(t.name,e.name)}function Ol(t,e){return Er(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo;function Wb(t){Wo=t}const Sh=function(t){return typeof t=="number"?"number:"+eh(t):"string:"+t},Ih=function(t){if(t.isLeafNode()){const e=t.val();k(typeof e=="string"||typeof e=="number"||typeof e=="object"&&tn(e,".sv"),"Priority must be a string or number.")}else k(t===Wo||t.isEmpty(),"priority of unexpected type.");k(t===Wo||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc;class je{constructor(e,n=je.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,k(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ih(this.priorityNode_)}static set __childrenNodeConstructor(e){Pc=e}static get __childrenNodeConstructor(){return Pc}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new je(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:je.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ue(e)?this:le(e)===".priority"?this.priorityNode_:je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=le(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(k(r!==".priority"||gn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,je.__childrenNodeConstructor.EMPTY_NODE.updateChild(xe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Sh(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=eh(this.value_):e+=this.value_,this.lazyHash_=Jf(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===je.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof je.__childrenNodeConstructor?-1:(k(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=je.VALUE_TYPE_ORDER.indexOf(n),s=je.VALUE_TYPE_ORDER.indexOf(r);return k(i>=0,"Unknown leaf type: "+n),k(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}je.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th,Rh;function Vb(t){Th=t}function jb(t){Rh=t}class Gb extends Ts{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Er(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ae.MIN}maxPost(){return new ae(Mn,new je("[PRIORITY-POST]",Rh))}makePost(e,n){const r=Th(e);return new ae(n,new je("[PRIORITY-POST]",r))}toString(){return".priority"}}const Me=new Gb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=Math.log(2);class zb{constructor(e){const n=s=>parseInt(Math.log(s)/Kb,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ts=function(t,e,n,r){t.sort(e);const i=function(a,c){const f=c-a;let u,h;if(f===0)return null;if(f===1)return u=t[a],h=n?n(u):u,new Ge(h,u.node,Ge.BLACK,null,null);{const g=parseInt(f/2,10)+a,w=i(a,g),R=i(g+1,c);return u=t[g],h=n?n(u):u,new Ge(h,u.node,Ge.BLACK,w,R)}},s=function(a){let c=null,f=null,u=t.length;const h=function(w,R){const U=u-w,j=u;u-=w;const $=i(U+1,j),Q=t[U],K=n?n(Q):Q;g(new Ge(K,Q.node,R,null,$))},g=function(w){c?(c.left=w,c=w):(f=w,c=w)};for(let w=0;w<a.count;++w){const R=a.nextBitIsOne(),U=Math.pow(2,a.count-(w+1));R?h(U,Ge.BLACK):(h(U,Ge.BLACK),h(U,Ge.RED))}return f},o=new zb(t.length),l=s(o);return new pt(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo;const jn={};class Qt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return k(jn&&Me,"ChildrenNode.ts has not been loaded"),uo=uo||new Qt({".priority":jn},{".priority":Me}),uo}get(e){const n=hr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof pt?n:null}hasIndex(e){return tn(this.indexSet_,e.toString())}addIndex(e,n){k(e!==lr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ae.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=ts(r,e.getCompare()):l=jn;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const f=Object.assign({},this.indexes_);return f[a]=l,new Qt(f,c)}addToIndexes(e,n){const r=Qi(this.indexes_,(i,s)=>{const o=hr(this.indexSet_,s);if(k(o,"Missing index implementation for "+s),i===jn)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(ae.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),ts(l,o.getCompare())}else return jn;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new ae(e.name,l))),a.insert(e,e.node)}});return new Qt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Qi(this.indexes_,i=>{if(i===jn)return i;{const s=n.get(e.name);return s?i.remove(new ae(e.name,s)):i}});return new Qt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dr;class te{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Ih(this.priorityNode_),this.children_.isEmpty()&&k(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Dr||(Dr=new te(new pt(Ol),null,Qt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Dr}updatePriority(e){return this.children_.isEmpty()?this:new te(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Dr:n}}getChild(e){const n=le(e);return n===null?this:this.getImmediateChild(n).getChild(xe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(k(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ae(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Dr:this.priorityNode_;return new te(i,o,s)}}updateChild(e,n){const r=le(e);if(r===null)return n;{k(le(e)!==".priority"||gn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(xe(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Me,(o,l)=>{n[o]=l.val(e),r++,s&&te.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Sh(this.getPriority().val())+":"),this.forEachChild(Me,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Jf(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ae(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ae(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ae(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ae.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ae.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ii?-1:0}withIndex(e){if(e===lr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new te(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===lr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Me),i=n.getIterator(Me);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===lr?null:this.indexMap_.get(e.toString())}}te.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class qb extends te{constructor(){super(new pt(Ol),te.EMPTY_NODE,Qt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return te.EMPTY_NODE}isEmpty(){return!1}}const Ii=new qb;Object.defineProperties(ae,{MIN:{value:new ae(dr,te.EMPTY_NODE)},MAX:{value:new ae(Mn,Ii)}});wh.__EMPTY_NODE=te.EMPTY_NODE;je.__childrenNodeConstructor=te;Wb(Ii);jb(Ii);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=!0;function Qe(t,e=null){if(t===null)return te.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),k(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new je(n,Qe(e))}if(!(t instanceof Array)&&Yb){const n=[];let r=!1;if(gt(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Qe(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new ae(o,a)))}}),n.length===0)return te.EMPTY_NODE;const s=ts(n,Hb,o=>o.name,Ol);if(r){const o=ts(n,Me.getCompare());return new te(s,Qe(e),new Qt({".priority":o},{".priority":Me}))}else return new te(s,Qe(e),Qt.Default)}else{let n=te.EMPTY_NODE;return gt(t,(r,i)=>{if(tn(t,r)&&r.substring(0,1)!=="."){const s=Qe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Qe(e))}}Vb(Qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb extends Ts{constructor(e){super(),this.indexPath_=e,k(!ue(e)&&le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Er(e.name,n.name):s}makePost(e,n){const r=Qe(e),i=te.EMPTY_NODE.updateChild(this.indexPath_,r);return new ae(n,i)}maxPost(){const e=te.EMPTY_NODE.updateChild(this.indexPath_,Ii);return new ae(Mn,e)}toString(){return bh(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb extends Ts{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Er(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ae.MIN}maxPost(){return ae.MAX}makePost(e,n){const r=Qe(e);return new ae(n,r)}toString(){return".value"}}const Xb=new Jb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){return{type:"value",snapshotNode:t}}function pr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ui(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function fi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Zb(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){k(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ui(n,l)):k(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(pr(n,r)):o.trackChildChange(fi(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Me,(i,s)=>{n.hasChild(i)||r.trackChildChange(ui(i,s))}),n.isLeafNode()||n.forEachChild(Me,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(fi(i,s,o))}else r.trackChildChange(pr(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?te.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.indexedFilter_=new Pl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=hi.getStartPost_(e),this.endPost_=hi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ae(n,r))||(r=te.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=te.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(te.EMPTY_NODE);const s=this;return n.forEachChild(Me,(o,l)=>{s.matches(new ae(o,l))||(i=i.updateImmediateChild(o,te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new hi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ae(n,r))||(r=te.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=te.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=te.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(te.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const u=this.index_.getCompare();o=(h,g)=>u(g,h)}else o=this.index_.getCompare();const l=e;k(l.numChildren()===this.limit_,"");const a=new ae(n,r),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(a);if(l.hasChild(n)){const u=l.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||l.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const g=h==null?1:o(h,a);if(f&&!r.isEmpty()&&g>=0)return s!=null&&s.trackChildChange(fi(n,r,u)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(ui(n,u));const R=l.updateImmediateChild(n,te.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(pr(h.name,h.node)),R.updateImmediateChild(h.name,h.node)):R}}else return r.isEmpty()?e:f&&o(c,a)>=0?(s!=null&&(s.trackChildChange(ui(c.name,c.node)),s.trackChildChange(pr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(c.name,te.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return k(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return k(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dr}hasEnd(){return this.endSet_}getIndexEndValue(){return k(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return k(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Mn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return k(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Me}copy(){const e=new Dl;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function tE(t){return t.loadsAllData()?new Pl(t.getIndex()):t.hasLimit()?new eE(t):new hi(t)}function Dc(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Me?n="$priority":t.index_===Xb?n="$value":t.index_===lr?n="$key":(k(t.index_ instanceof Qb,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ke(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ke(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ke(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ke(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ke(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Mc(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Me&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends mh{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Si("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(k(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ns.getListenId_(e,r),l={};this.listens_[o]=l;const a=Dc(e._queryParams);this.restRequest_(s+".json",a,(c,f)=>{let u=f;if(c===404&&(u=null,c=null),c===null&&this.onDataUpdate_(s,u,!1,r),hr(this.listens_,o)===l){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=ns.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Dc(e._queryParams),r=e._path.toString(),i=new Ss;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Dv(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=oi(l.responseText)}catch{_t("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&_t("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.rootNode_=te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(){return{value:null,children:new Map}}function Ah(t,e,n){if(ue(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=le(e);t.children.has(r)||t.children.set(r,rs());const i=t.children.get(r);e=xe(e),Ah(i,e,n)}}function Vo(t,e,n){t.value!==null?n(e,t.value):rE(t,(r,i)=>{const s=new we(e.toString()+"/"+r);Vo(i,s,n)})}function rE(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&gt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=10*1e3,sE=30*1e3,oE=5*60*1e3;class lE{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new iE(e);const r=kc+(sE-kc)*Math.random();zr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;gt(e,(i,s)=>{s>0&&tn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),zr(this.reportStats_.bind(this),Math.floor(Math.random()*2*oE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Nt||(Nt={}));function Nh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ml(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kl(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Nt.ACK_USER_WRITE,this.source=Nh()}operationForChild(e){if(ue(this.path)){if(this.affectedTree.value!=null)return k(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new we(e));return new is(_e(),n,this.revert)}}else return k(le(this.path)===e,"operationForChild called for unrelated child."),new is(xe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){this.source=e,this.path=n,this.type=Nt.LISTEN_COMPLETE}operationForChild(e){return ue(this.path)?new di(this.source,_e()):new di(this.source,xe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Nt.OVERWRITE}operationForChild(e){return ue(this.path)?new kn(this.source,_e(),this.snap.getImmediateChild(e)):new kn(this.source,xe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Nt.MERGE}operationForChild(e){if(ue(this.path)){const n=this.children.subtree(new we(e));return n.isEmpty()?null:n.value?new kn(this.source,_e(),n.value):new pi(this.source,_e(),n)}else return k(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new pi(this.source,xe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ue(e))return this.isFullyInitialized()&&!this.filtered_;const n=le(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function cE(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Zb(o.childName,o.snapshotNode))}),Mr(t,i,"child_removed",e,r,n),Mr(t,i,"child_added",e,r,n),Mr(t,i,"child_moved",s,r,n),Mr(t,i,"child_changed",e,r,n),Mr(t,i,"value",e,r,n),i}function Mr(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>fE(t,l,a)),o.forEach(l=>{const a=uE(t,l,s);i.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function uE(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function fE(t,e,n){if(e.childName==null||n.childName==null)throw yr("Should only compare child_ events.");const r=new ae(e.childName,e.snapshotNode),i=new ae(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){return{eventCache:t,serverCache:e}}function qr(t,e,n,r){return Rs(new Ln(e,n,r),t.serverCache)}function Oh(t,e,n,r){return Rs(t.eventCache,new Ln(e,n,r))}function jo(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Fn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo;const hE=()=>(fo||(fo=new pt(Jy)),fo);class Ne{constructor(e,n=hE()){this.value=e,this.children=n}static fromObject(e){let n=new Ne(null);return gt(e,(r,i)=>{n=n.set(new we(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:_e(),value:this.value};if(ue(e))return null;{const r=le(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(xe(e),n);return s!=null?{path:Ve(new we(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ue(e))return this;{const n=le(e),r=this.children.get(n);return r!==null?r.subtree(xe(e)):new Ne(null)}}set(e,n){if(ue(e))return new Ne(n,this.children);{const r=le(e),s=(this.children.get(r)||new Ne(null)).set(xe(e),n),o=this.children.insert(r,s);return new Ne(this.value,o)}}remove(e){if(ue(e))return this.children.isEmpty()?new Ne(null):new Ne(null,this.children);{const n=le(e),r=this.children.get(n);if(r){const i=r.remove(xe(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ne(null):new Ne(this.value,s)}else return this}}get(e){if(ue(e))return this.value;{const n=le(e),r=this.children.get(n);return r?r.get(xe(e)):null}}setTree(e,n){if(ue(e))return n;{const r=le(e),s=(this.children.get(r)||new Ne(null)).setTree(xe(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ne(this.value,o)}}fold(e){return this.fold_(_e(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ve(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,_e(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ue(e))return null;{const s=le(e),o=this.children.get(s);return o?o.findOnPath_(xe(e),Ve(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,_e(),n)}foreachOnPath_(e,n,r){if(ue(e))return this;{this.value&&r(n,this.value);const i=le(e),s=this.children.get(i);return s?s.foreachOnPath_(xe(e),Ve(n,i),r):new Ne(null)}}foreach(e){this.foreach_(_e(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ve(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.writeTree_=e}static empty(){return new Dt(new Ne(null))}}function Yr(t,e,n){if(ue(e))return new Dt(new Ne(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=dt(i,e);return s=s.updateChild(o,n),new Dt(t.writeTree_.set(i,s))}else{const i=new Ne(n),s=t.writeTree_.setTree(e,i);return new Dt(s)}}}function Lc(t,e,n){let r=t;return gt(n,(i,s)=>{r=Yr(r,Ve(e,i),s)}),r}function Fc(t,e){if(ue(e))return Dt.empty();{const n=t.writeTree_.setTree(e,new Ne(null));return new Dt(n)}}function Go(t,e){return Bn(t,e)!=null}function Bn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(dt(n.path,e)):null}function Bc(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Me,(r,i)=>{e.push(new ae(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ae(r,i.value))}),e}function pn(t,e){if(ue(e))return t;{const n=Bn(t,e);return n!=null?new Dt(new Ne(n)):new Dt(t.writeTree_.subtree(e))}}function Ko(t){return t.writeTree_.isEmpty()}function _r(t,e){return Ph(_e(),t.writeTree_,e)}function Ph(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(k(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Ph(Ve(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ve(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t,e){return Lh(e,t)}function dE(t,e,n,r,i){k(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Yr(t.visibleWrites,e,n)),t.lastWriteId=r}function pE(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function _E(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);k(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&gE(l,r.path)?i=!1:At(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return mE(t),!0;if(r.snap)t.visibleWrites=Fc(t.visibleWrites,r.path);else{const l=r.children;gt(l,a=>{t.visibleWrites=Fc(t.visibleWrites,Ve(r.path,a))})}return!0}else return!1}function gE(t,e){if(t.snap)return At(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&At(Ve(t.path,n),e))return!0;return!1}function mE(t){t.visibleWrites=Dh(t.allWrites,vE,_e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function vE(t){return t.visible}function Dh(t,e,n){let r=Dt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)At(n,o)?(l=dt(n,o),r=Yr(r,l,s.snap)):At(o,n)&&(l=dt(o,n),r=Yr(r,_e(),s.snap.getChild(l)));else if(s.children){if(At(n,o))l=dt(n,o),r=Lc(r,l,s.children);else if(At(o,n))if(l=dt(o,n),ue(l))r=Lc(r,_e(),s.children);else{const a=hr(s.children,le(l));if(a){const c=a.getChild(xe(l));r=Yr(r,_e(),c)}}}else throw yr("WriteRecord should have .snap or .children")}}return r}function Mh(t,e,n,r,i){if(!r&&!i){const s=Bn(t.visibleWrites,e);if(s!=null)return s;{const o=pn(t.visibleWrites,e);if(Ko(o))return n;if(n==null&&!Go(o,_e()))return null;{const l=n||te.EMPTY_NODE;return _r(o,l)}}}else{const s=pn(t.visibleWrites,e);if(!i&&Ko(s))return n;if(!i&&n==null&&!Go(s,_e()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(At(c.path,e)||At(e,c.path))},l=Dh(t.allWrites,o,e),a=n||te.EMPTY_NODE;return _r(l,a)}}}function yE(t,e,n){let r=te.EMPTY_NODE;const i=Bn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Me,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=pn(t.visibleWrites,e);return n.forEachChild(Me,(o,l)=>{const a=_r(pn(s,new we(o)),l);r=r.updateImmediateChild(o,a)}),Bc(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=pn(t.visibleWrites,e);return Bc(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function bE(t,e,n,r,i){k(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ve(e,n);if(Go(t.visibleWrites,s))return null;{const o=pn(t.visibleWrites,s);return Ko(o)?i.getChild(n):_r(o,i.getChild(n))}}function EE(t,e,n,r){const i=Ve(e,n),s=Bn(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=pn(t.visibleWrites,i);return _r(o,r.getNode().getImmediateChild(n))}else return null}function CE(t,e){return Bn(t.visibleWrites,e)}function wE(t,e,n,r,i,s,o){let l;const a=pn(t.visibleWrites,e),c=Bn(a,_e());if(c!=null)l=c;else if(n!=null)l=_r(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const f=[],u=o.getCompare(),h=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=h.getNext();for(;g&&f.length<i;)u(g,r)!==0&&f.push(g),g=h.getNext();return f}else return[]}function SE(){return{visibleWrites:Dt.empty(),allWrites:[],lastWriteId:-1}}function ss(t,e,n,r){return Mh(t.writeTree,t.treePath,e,n,r)}function Fl(t,e){return yE(t.writeTree,t.treePath,e)}function Uc(t,e,n,r){return bE(t.writeTree,t.treePath,e,n,r)}function os(t,e){return CE(t.writeTree,Ve(t.treePath,e))}function IE(t,e,n,r,i,s){return wE(t.writeTree,t.treePath,e,n,r,i,s)}function Bl(t,e,n){return EE(t.writeTree,t.treePath,e,n)}function kh(t,e){return Lh(Ve(t.treePath,e),t.writeTree)}function Lh(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;k(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),k(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,fi(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ui(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,pr(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,fi(r,e.snapshotNode,i.oldSnap));else throw yr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Fh=new RE;class Ul{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ln(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bl(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Fn(this.viewCache_),s=IE(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){return{filter:t}}function AE(t,e){k(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),k(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function NE(t,e,n,r,i){const s=new TE;let o,l;if(n.type===Nt.OVERWRITE){const c=n;c.source.fromUser?o=zo(t,e,c.path,c.snap,r,i,s):(k(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!ue(c.path),o=ls(t,e,c.path,c.snap,r,i,l,s))}else if(n.type===Nt.MERGE){const c=n;c.source.fromUser?o=PE(t,e,c.path,c.children,r,i,s):(k(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=qo(t,e,c.path,c.children,r,i,l,s))}else if(n.type===Nt.ACK_USER_WRITE){const c=n;c.revert?o=kE(t,e,c.path,r,i,s):o=DE(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Nt.LISTEN_COMPLETE)o=ME(t,e,n.path,r,s);else throw yr("Unknown operation type: "+n.type);const a=s.getChanges();return OE(e,o,a),{viewCache:o,changes:a}}function OE(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=jo(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(xh(jo(e)))}}function Bh(t,e,n,r,i,s){const o=e.eventCache;if(os(r,n)!=null)return e;{let l,a;if(ue(n))if(k(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Fn(e),f=c instanceof te?c:te.EMPTY_NODE,u=Fl(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const c=ss(r,Fn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=le(n);if(c===".priority"){k(gn(n)===1,"Can't have a priority with additional path components");const f=o.getNode();a=e.serverCache.getNode();const u=Uc(r,n,f,a);u!=null?l=t.filter.updatePriority(f,u):l=o.getNode()}else{const f=xe(n);let u;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const h=Uc(r,n,o.getNode(),a);h!=null?u=o.getNode().getImmediateChild(c).updateChild(f,h):u=o.getNode().getImmediateChild(c)}else u=Bl(r,c,e.serverCache);u!=null?l=t.filter.updateChild(o.getNode(),c,u,f,i,s):l=o.getNode()}}return qr(e,l,o.isFullyInitialized()||ue(n),t.filter.filtersNodes())}}function ls(t,e,n,r,i,s,o,l){const a=e.serverCache;let c;const f=o?t.filter:t.filter.getIndexedFilter();if(ue(n))c=f.updateFullNode(a.getNode(),r,null);else if(f.filtersNodes()&&!a.isFiltered()){const g=a.getNode().updateChild(n,r);c=f.updateFullNode(a.getNode(),g,null)}else{const g=le(n);if(!a.isCompleteForPath(n)&&gn(n)>1)return e;const w=xe(n),U=a.getNode().getImmediateChild(g).updateChild(w,r);g===".priority"?c=f.updatePriority(a.getNode(),U):c=f.updateChild(a.getNode(),g,U,w,Fh,null)}const u=Oh(e,c,a.isFullyInitialized()||ue(n),f.filtersNodes()),h=new Ul(i,u,s);return Bh(t,u,n,i,h,l)}function zo(t,e,n,r,i,s,o){const l=e.eventCache;let a,c;const f=new Ul(i,e,s);if(ue(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=qr(e,c,!0,t.filter.filtersNodes());else{const u=le(n);if(u===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),a=qr(e,c,l.isFullyInitialized(),l.isFiltered());else{const h=xe(n),g=l.getNode().getImmediateChild(u);let w;if(ue(h))w=r;else{const R=f.getCompleteChild(u);R!=null?yh(h)===".priority"&&R.getChild(Eh(h)).isEmpty()?w=R:w=R.updateChild(h,r):w=te.EMPTY_NODE}if(g.equals(w))a=e;else{const R=t.filter.updateChild(l.getNode(),u,w,h,f,o);a=qr(e,R,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function $c(t,e){return t.eventCache.isCompleteForChild(e)}function PE(t,e,n,r,i,s,o){let l=e;return r.foreach((a,c)=>{const f=Ve(n,a);$c(e,le(f))&&(l=zo(t,l,f,c,i,s,o))}),r.foreach((a,c)=>{const f=Ve(n,a);$c(e,le(f))||(l=zo(t,l,f,c,i,s,o))}),l}function Hc(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function qo(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;ue(n)?c=r:c=new Ne(null).setTree(n,r);const f=e.serverCache.getNode();return c.children.inorderTraversal((u,h)=>{if(f.hasChild(u)){const g=e.serverCache.getNode().getImmediateChild(u),w=Hc(t,g,h);a=ls(t,a,new we(u),w,i,s,o,l)}}),c.children.inorderTraversal((u,h)=>{const g=!e.serverCache.isCompleteForChild(u)&&h.value===null;if(!f.hasChild(u)&&!g){const w=e.serverCache.getNode().getImmediateChild(u),R=Hc(t,w,h);a=ls(t,a,new we(u),R,i,s,o,l)}}),a}function DE(t,e,n,r,i,s,o){if(os(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(ue(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return ls(t,e,n,a.getNode().getChild(n),i,s,l,o);if(ue(n)){let c=new Ne(null);return a.getNode().forEachChild(lr,(f,u)=>{c=c.set(new we(f),u)}),qo(t,e,n,c,i,s,l,o)}else return e}else{let c=new Ne(null);return r.foreach((f,u)=>{const h=Ve(n,f);a.isCompleteForPath(h)&&(c=c.set(f,a.getNode().getChild(h)))}),qo(t,e,n,c,i,s,l,o)}}function ME(t,e,n,r,i){const s=e.serverCache,o=Oh(e,s.getNode(),s.isFullyInitialized()||ue(n),s.isFiltered());return Bh(t,o,n,r,Fh,i)}function kE(t,e,n,r,i,s){let o;if(os(r,n)!=null)return e;{const l=new Ul(r,e,i),a=e.eventCache.getNode();let c;if(ue(n)||le(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=ss(r,Fn(e));else{const u=e.serverCache.getNode();k(u instanceof te,"serverChildren would be complete if leaf node"),f=Fl(r,u)}f=f,c=t.filter.updateFullNode(a,f,s)}else{const f=le(n);let u=Bl(r,f,e.serverCache);u==null&&e.serverCache.isCompleteForChild(f)&&(u=a.getImmediateChild(f)),u!=null?c=t.filter.updateChild(a,f,u,xe(n),l,s):e.eventCache.getNode().hasChild(f)?c=t.filter.updateChild(a,f,te.EMPTY_NODE,xe(n),l,s):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ss(r,Fn(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||os(r,_e())!=null,qr(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Pl(r.getIndex()),s=tE(r);this.processor_=xE(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(te.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(te.EMPTY_NODE,l.getNode(),null),f=new Ln(a,o.isFullyInitialized(),i.filtersNodes()),u=new Ln(c,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Rs(u,f),this.eventGenerator_=new aE(this.query_)}get query(){return this.query_}}function FE(t){return t.viewCache_.serverCache.getNode()}function BE(t,e){const n=Fn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ue(e)&&!n.getImmediateChild(le(e)).isEmpty())?n.getChild(e):null}function Wc(t){return t.eventRegistrations_.length===0}function UE(t,e){t.eventRegistrations_.push(e)}function Vc(t,e,n){const r=[];if(n){k(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function jc(t,e,n,r){e.type===Nt.MERGE&&e.source.queryId!==null&&(k(Fn(t.viewCache_),"We should always have a full cache before handling merges"),k(jo(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=NE(t.processor_,i,e,n,r);return AE(t.processor_,s.viewCache),k(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Uh(t,s.changes,s.viewCache.eventCache.getNode(),null)}function $E(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Me,(s,o)=>{r.push(pr(s,o))}),n.isFullyInitialized()&&r.push(xh(n.getNode())),Uh(t,r,n.getNode(),e)}function Uh(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return cE(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let as;class HE{constructor(){this.views=new Map}}function WE(t){k(!as,"__referenceConstructor has already been defined"),as=t}function VE(){return k(as,"Reference.ts has not been loaded"),as}function jE(t){return t.views.size===0}function $l(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return k(s!=null,"SyncTree gave us an op for an invalid query."),jc(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(jc(o,e,n,r));return s}}function GE(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=ss(n,i?r:null),a=!1;l?a=!0:r instanceof te?(l=Fl(n,r),a=!1):(l=te.EMPTY_NODE,a=!1);const c=Rs(new Ln(l,a,!1),new Ln(r,i,!1));return new LE(e,c)}return o}function KE(t,e,n,r,i,s){const o=GE(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),UE(o,n),$E(o,n)}function zE(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=mn(t);if(i==="default")for(const[a,c]of t.views.entries())o=o.concat(Vc(c,n,r)),Wc(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||s.push(c.query));else{const a=t.views.get(i);a&&(o=o.concat(Vc(a,n,r)),Wc(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!mn(t)&&s.push(new(VE())(e._repo,e._path)),{removed:s,events:o}}function $h(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ar(t,e){let n=null;for(const r of t.views.values())n=n||BE(r,e);return n}function Hh(t,e){if(e._queryParams.loadsAllData())return xs(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Wh(t,e){return Hh(t,e)!=null}function mn(t){return xs(t)!=null}function xs(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cs;function qE(t){k(!cs,"__referenceConstructor has already been defined"),cs=t}function YE(){return k(cs,"Reference.ts has not been loaded"),cs}let QE=1;class Gc{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ne(null),this.pendingWriteTree_=SE(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Vh(t,e,n,r,i){return dE(t.pendingWriteTree_,e,n,r,i),i?Ti(t,new kn(Nh(),e,n)):[]}function Rn(t,e,n=!1){const r=pE(t.pendingWriteTree_,e);if(_E(t.pendingWriteTree_,e)){let s=new Ne(null);return r.snap!=null?s=s.set(_e(),!0):gt(r.children,o=>{s=s.set(new we(o),!0)}),Ti(t,new is(r.path,s,n))}else return[]}function As(t,e,n){return Ti(t,new kn(Ml(),e,n))}function JE(t,e,n){const r=Ne.fromObject(n);return Ti(t,new pi(Ml(),e,r))}function XE(t,e){return Ti(t,new di(Ml(),e))}function ZE(t,e,n){const r=Wl(t,n);if(r){const i=Vl(r),s=i.path,o=i.queryId,l=dt(s,e),a=new di(kl(o),l);return jl(t,s,a)}else return[]}function Yo(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||Wh(o,e))){const a=zE(o,e,n,r);jE(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=a.removed;if(l=a.events,!i){const f=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,u=t.syncPointTree_.findOnPath(s,(h,g)=>mn(g));if(f&&!u){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const g=nC(h);for(let w=0;w<g.length;++w){const R=g[w],U=R.query,j=Kh(t,R);t.listenProvider_.startListening(Qr(U),us(t,U),j.hashFn,j.onComplete)}}}!u&&c.length>0&&!r&&(f?t.listenProvider_.stopListening(Qr(e),null):c.forEach(h=>{const g=t.queryToTagMap.get(Ns(h));t.listenProvider_.stopListening(Qr(h),g)}))}rC(t,c)}return l}function eC(t,e,n,r){const i=Wl(t,r);if(i!=null){const s=Vl(i),o=s.path,l=s.queryId,a=dt(o,e),c=new kn(kl(l),a,n);return jl(t,o,c)}else return[]}function tC(t,e,n,r){const i=Wl(t,r);if(i){const s=Vl(i),o=s.path,l=s.queryId,a=dt(o,e),c=Ne.fromObject(n),f=new pi(kl(l),a,c);return jl(t,o,f)}else return[]}function Kc(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,g)=>{const w=dt(h,i);s=s||ar(g,w),o=o||mn(g)});let l=t.syncPointTree_.get(i);l?(o=o||mn(l),s=s||ar(l,_e())):(l=new HE,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=te.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((g,w)=>{const R=ar(w,_e());R&&(s=s.updateImmediateChild(g,R))}));const c=Wh(l,e);if(!c&&!e._queryParams.loadsAllData()){const h=Ns(e);k(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const g=iC();t.queryToTagMap.set(h,g),t.tagToQueryMap.set(g,h)}const f=Ll(t.pendingWriteTree_,i);let u=KE(l,e,n,f,s,a);if(!c&&!o&&!r){const h=Hh(l,e);u=u.concat(sC(t,e,h))}return u}function Hl(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=dt(o,e),c=ar(l,a);if(c)return c});return Mh(i,e,s,n,!0)}function Ti(t,e){return jh(e,t.syncPointTree_,null,Ll(t.pendingWriteTree_,_e()))}function jh(t,e,n,r){if(ue(t.path))return Gh(t,e,n,r);{const i=e.get(_e());n==null&&i!=null&&(n=ar(i,_e()));let s=[];const o=le(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,f=kh(r,o);s=s.concat(jh(l,a,c,f))}return i&&(s=s.concat($l(i,t,r,n))),s}}function Gh(t,e,n,r){const i=e.get(_e());n==null&&i!=null&&(n=ar(i,_e()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=kh(r,o),f=t.operationForChild(o);f&&(s=s.concat(Gh(f,l,a,c)))}),i&&(s=s.concat($l(i,t,r,n))),s}function Kh(t,e){const n=e.query,r=us(t,n);return{hashFn:()=>(FE(e)||te.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?ZE(t,n._path,r):XE(t,n._path);{const s=eb(i,n);return Yo(t,n,null,s)}}}}function us(t,e){const n=Ns(e);return t.queryToTagMap.get(n)}function Ns(t){return t._path.toString()+"$"+t._queryIdentifier}function Wl(t,e){return t.tagToQueryMap.get(e)}function Vl(t){const e=t.indexOf("$");return k(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new we(t.substr(0,e))}}function jl(t,e,n){const r=t.syncPointTree_.get(e);k(r,"Missing sync point for query tag that we're tracking");const i=Ll(t.pendingWriteTree_,e);return $l(r,n,i,null)}function nC(t){return t.fold((e,n,r)=>{if(n&&mn(n))return[xs(n)];{let i=[];return n&&(i=$h(n)),gt(r,(s,o)=>{i=i.concat(o)}),i}})}function Qr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(YE())(t._repo,t._path):t}function rC(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Ns(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function iC(){return QE++}function sC(t,e,n){const r=e._path,i=us(t,e),s=Kh(t,n),o=t.listenProvider_.startListening(Qr(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)k(!mn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,f,u)=>{if(!ue(c)&&f&&mn(f))return[xs(f).query];{let h=[];return f&&(h=h.concat($h(f).map(g=>g.query))),gt(u,(g,w)=>{h=h.concat(w)}),h}});for(let c=0;c<a.length;++c){const f=a[c];t.listenProvider_.stopListening(Qr(f),us(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Gl(n)}node(){return this.node_}}class Kl{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ve(this.path_,e);return new Kl(this.syncTree_,n)}node(){return Hl(this.syncTree_,this.path_)}}const oC=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},zc=function(t,e,n){if(!t||typeof t!="object")return t;if(k(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return lC(t[".sv"],e,n);if(typeof t[".sv"]=="object")return aC(t[".sv"],e);k(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},lC=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:k(!1,"Unexpected server value: "+t)}},aC=function(t,e,n){t.hasOwnProperty("increment")||k(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&k(!1,"Unexpected increment value: "+r);const i=e.node();if(k(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},cC=function(t,e,n,r){return zl(e,new Kl(n,t),r)},zh=function(t,e,n){return zl(t,new Gl(e),n)};function zl(t,e,n){const r=t.getPriority().val(),i=zc(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=zc(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new je(l,Qe(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new je(i))),o.forEachChild(Me,(l,a)=>{const c=zl(a,e.getImmediateChild(l),n);c!==a&&(s=s.updateImmediateChild(l,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Yl(t,e){let n=e instanceof we?e:new we(e),r=t,i=le(n);for(;i!==null;){const s=hr(r.node.children,i)||{children:{},childCount:0};r=new ql(i,r,s),n=xe(n),i=le(n)}return r}function wr(t){return t.node.value}function qh(t,e){t.node.value=e,Qo(t)}function Yh(t){return t.node.childCount>0}function uC(t){return wr(t)===void 0&&!Yh(t)}function Os(t,e){gt(t.node.children,(n,r)=>{e(new ql(n,t,r))})}function Qh(t,e,n,r){n&&!r&&e(t),Os(t,i=>{Qh(i,e,!0,r)}),n&&r&&e(t)}function fC(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ri(t){return new we(t.parent===null?t.name:Ri(t.parent)+"/"+t.name)}function Qo(t){t.parent!==null&&hC(t.parent,t.name,t)}function hC(t,e,n){const r=uC(n),i=tn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Qo(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Qo(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=/[\[\].#$\/\u0000-\u001F\u007F]/,pC=/[\[\].#$\u0000-\u001F\u007F]/,ho=10*1024*1024,Jh=function(t){return typeof t=="string"&&t.length!==0&&!dC.test(t)},Xh=function(t){return typeof t=="string"&&t.length!==0&&!pC.test(t)},_C=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Xh(t)},Zh=function(t,e,n,r){r&&e===void 0||Ql(wl(t,"value"),e,n)},Ql=function(t,e,n){const r=n instanceof we?new Db(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+In(r));if(typeof e=="function")throw new Error(t+"contains a function "+In(r)+" with contents = "+e.toString());if(Xf(e))throw new Error(t+"contains "+e.toString()+" "+In(r));if(typeof e=="string"&&e.length>ho/3&&Is(e)>ho)throw new Error(t+"contains a string greater than "+ho+" utf8 bytes "+In(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(gt(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Jh(o)))throw new Error(t+" contains an invalid key ("+o+") "+In(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Mb(r,o),Ql(t,l,r),kb(r)}),i&&s)throw new Error(t+' contains ".value" child '+In(r)+" in addition to actual children.")}},ed=function(t,e,n,r){if(!(r&&n===void 0)&&!Xh(n))throw new Error(wl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},gC=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ed(t,e,n,r)},td=function(t,e){if(le(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},mC=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Jh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!_C(n))throw new Error(wl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jl(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Al(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function nd(t,e,n){Jl(t,n),rd(t,r=>Al(r,e))}function Zt(t,e,n){Jl(t,n),rd(t,r=>At(r,e)||At(e,r))}function rd(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(yC(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function yC(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Nn&&rt("event: "+n.toString()),Cr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="repo_interrupt",EC=25;class CC{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rs(),this.transactionQueueTree_=new ql,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function wC(t,e,n){if(t.stats_=Rl(t.repoInfo_),t.forceRestClient_||ib())t.server_=new ns(t.repoInfo_,(r,i,s,o)=>{qc(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Yc(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Jt(t.repoInfo_,e,(r,i,s,o)=>{qc(t,r,i,s,o)},r=>{Yc(t,r)},r=>{SC(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=cb(t.repoInfo_,()=>new lE(t.stats_,t.server_)),t.infoData_=new nE,t.infoSyncTree_=new Gc({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=As(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Zl(t,"connected",!1),t.serverSyncTree_=new Gc({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const c=o(l,a);Zt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function id(t){const n=t.infoData_.getNode(new we(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Xl(t){return oC({timestamp:id(t)})}function qc(t,e,n,r,i){t.dataUpdateCount++;const s=new we(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=Qi(n,c=>Qe(c));o=tC(t.serverSyncTree_,s,a,i)}else{const a=Qe(n);o=eC(t.serverSyncTree_,s,a,i)}else if(r){const a=Qi(n,c=>Qe(c));o=JE(t.serverSyncTree_,s,a)}else{const a=Qe(n);o=As(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=Ps(t,s)),Zt(t.eventQueue_,l,o)}function Yc(t,e){Zl(t,"connected",e),e===!1&&TC(t)}function SC(t,e){gt(e,(n,r)=>{Zl(t,n,r)})}function Zl(t,e,n){const r=new we("/.info/"+e),i=Qe(n);t.infoData_.updateSnapshot(r,i);const s=As(t.infoSyncTree_,r,i);Zt(t.eventQueue_,r,s)}function sd(t){return t.nextWriteId_++}function IC(t,e,n,r,i){ea(t,"set",{path:e.toString(),value:n,priority:r});const s=Xl(t),o=Qe(n,r),l=Hl(t.serverSyncTree_,e),a=zh(o,l,s),c=sd(t),f=Vh(t.serverSyncTree_,e,a,c,!0);Jl(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(h,g)=>{const w=h==="ok";w||_t("set at "+e+" failed: "+h);const R=Rn(t.serverSyncTree_,c,!w);Zt(t.eventQueue_,e,R),AC(t,i,h,g)});const u=fd(t,e);Ps(t,u),Zt(t.eventQueue_,u,[])}function TC(t){ea(t,"onDisconnectEvents");const e=Xl(t),n=rs();Vo(t.onDisconnect_,_e(),(i,s)=>{const o=cC(i,s,t.serverSyncTree_,e);Ah(n,i,o)});let r=[];Vo(n,_e(),(i,s)=>{r=r.concat(As(t.serverSyncTree_,i,s));const o=fd(t,i);Ps(t,o)}),t.onDisconnect_=rs(),Zt(t.eventQueue_,_e(),r)}function RC(t,e,n){let r;le(e._path)===".info"?r=Kc(t.infoSyncTree_,e,n):r=Kc(t.serverSyncTree_,e,n),nd(t.eventQueue_,e._path,r)}function Qc(t,e,n){let r;le(e._path)===".info"?r=Yo(t.infoSyncTree_,e,n):r=Yo(t.serverSyncTree_,e,n),nd(t.eventQueue_,e._path,r)}function xC(t){t.persistentConnection_&&t.persistentConnection_.interrupt(bC)}function ea(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),rt(n,...e)}function AC(t,e,n,r){e&&Cr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function od(t,e,n){return Hl(t.serverSyncTree_,e,n)||te.EMPTY_NODE}function ta(t,e=t.transactionQueueTree_){if(e||Ds(t,e),wr(e)){const n=ad(t,e);k(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&NC(t,Ri(e),n)}else Yh(e)&&Os(e,n=>{ta(t,n)})}function NC(t,e,n){const r=n.map(c=>c.currentWriteId),i=od(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const f=n[c];k(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const u=dt(e,f.path);s=s.updateChild(u,f.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,c=>{ea(t,"transaction put response",{path:a.toString(),status:c});let f=[];if(c==="ok"){const u=[];for(let h=0;h<n.length;h++)n[h].status=2,f=f.concat(Rn(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&u.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Ds(t,Yl(t.transactionQueueTree_,e)),ta(t,t.transactionQueueTree_),Zt(t.eventQueue_,e,f);for(let h=0;h<u.length;h++)Cr(u[h])}else{if(c==="datastale")for(let u=0;u<n.length;u++)n[u].status===3?n[u].status=4:n[u].status=0;else{_t("transaction at "+a.toString()+" failed: "+c);for(let u=0;u<n.length;u++)n[u].status=4,n[u].abortReason=c}Ps(t,e)}},o)}function Ps(t,e){const n=ld(t,e),r=Ri(n),i=ad(t,n);return OC(t,i,r),r}function OC(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=dt(n,a.path);let f=!1,u;if(k(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)f=!0,u=a.abortReason,i=i.concat(Rn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=EC)f=!0,u="maxretry",i=i.concat(Rn(t.serverSyncTree_,a.currentWriteId,!0));else{const h=od(t,a.path,o);a.currentInputSnapshot=h;const g=e[l].update(h.val());if(g!==void 0){Ql("transaction failed: Data returned ",g,a.path);let w=Qe(g);typeof g=="object"&&g!=null&&tn(g,".priority")||(w=w.updatePriority(h.getPriority()));const U=a.currentWriteId,j=Xl(t),$=zh(w,h,j);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=$,a.currentWriteId=sd(t),o.splice(o.indexOf(U),1),i=i.concat(Vh(t.serverSyncTree_,a.path,$,a.currentWriteId,a.applyLocally)),i=i.concat(Rn(t.serverSyncTree_,U,!0))}else f=!0,u="nodata",i=i.concat(Rn(t.serverSyncTree_,a.currentWriteId,!0))}Zt(t.eventQueue_,n,i),i=[],f&&(e[l].status=2,function(h){setTimeout(h,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(u==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(u),!1,null))))}Ds(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Cr(r[l]);ta(t,t.transactionQueueTree_)}function ld(t,e){let n,r=t.transactionQueueTree_;for(n=le(e);n!==null&&wr(r)===void 0;)r=Yl(r,n),e=xe(e),n=le(e);return r}function ad(t,e){const n=[];return ud(t,e,n),n.sort((r,i)=>r.order-i.order),n}function ud(t,e,n){const r=wr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Os(e,i=>{ud(t,i,n)})}function Ds(t,e){const n=wr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,qh(e,n.length>0?n:void 0)}Os(e,r=>{Ds(t,r)})}function fd(t,e){const n=Ri(ld(t,e)),r=Yl(t.transactionQueueTree_,e);return fC(r,i=>{po(t,i)}),po(t,r),Qh(r,i=>{po(t,i)}),n}function po(t,e){const n=wr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(k(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(k(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Rn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?qh(e,void 0):n.length=s+1,Zt(t.eventQueue_,Ri(e),i);for(let o=0;o<r.length;o++)Cr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function DC(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):_t(`Invalid query segment '${n}' in query '${t}'`)}return e}const Jc=function(t,e){const n=MC(t),r=n.namespace;n.domain==="firebase.com"&&Xt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Xt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Yy();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new uh(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new we(n.pathString)}},MC=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let f=t.indexOf("/");f===-1&&(f=t.length);let u=t.indexOf("?");u===-1&&(u=t.length),e=t.substring(0,Math.min(f,u)),f<u&&(i=PC(t.substring(f,u)));const h=DC(t.substring(Math.min(t.length,u)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const g=e.slice(0,c);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kC=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Xc.charAt(n%64),n=Math.floor(n/64);k(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Xc.charAt(e[i]);return k(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class dd{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return k(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ue(this._path)?null:yh(this._path)}get ref(){return new nn(this._repo,this._path)}get _queryIdentifier(){const e=Mc(this._queryParams),n=Il(e);return n==="{}"?"default":n}get _queryObject(){return Mc(this._queryParams)}isEqual(e){if(e=br(e),!(e instanceof na))return!1;const n=this._repo===e._repo,r=Al(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Pb(this._path)}}class nn extends na{constructor(e,n){super(e,n,new Dl,!1)}get parent(){const e=Eh(this._path);return e===null?null:new nn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class _i{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new we(e),r=gr(this.ref,e);return new _i(this._node.getChild(n),r,Me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new _i(i,gr(this.ref,r),Me)))}hasChild(e){const n=new we(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Zc(t,e){return t=br(t),t._checkNotDeleted("ref"),e!==void 0?gr(t._root,e):t._root}function gr(t,e){return t=br(t),le(t._path)===null?gC("child","path",e,!1):ed("child","path",e,!1),new nn(t._repo,Ve(t._path,e))}function FC(t,e){t=br(t),td("push",t._path),Zh("push",e,t._path,!0);const n=id(t._repo),r=kC(n),i=gr(t,r),s=gr(t,r);let o;return e!=null?o=BC(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function BC(t,e){t=br(t),td("set",t._path),Zh("set",e,t._path,!1);const n=new Ss;return IC(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class ra{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new hd("value",this,new _i(e.snapshotNode,new nn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new dd(this,e,n):null}matches(e){return e instanceof ra?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ia{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new dd(this,e,n):null}createEvent(e,n){k(e.childName!=null,"Child events should have a childName.");const r=gr(new nn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new hd(e.type,this,new _i(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ia?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function UC(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,c=(f,u)=>{Qc(t._repo,t,l),a(f,u)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new LC(n,s||void 0),l=e==="value"?new ra(o):new ia(e,o);return RC(t._repo,t,l),()=>Qc(t._repo,t,l)}function $C(t,e,n,r){return UC(t,"value",e,n,r)}WE(nn);qE(nn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="FIREBASE_DATABASE_EMULATOR_HOST",Jo={};let WC=!1;function VC(t,e,n,r){t.repoInfo_=new uh(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function jC(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Xt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),rt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Jc(s,i),l=o.repoInfo,a,c;typeof process<"u"&&{}&&(c={}[HC]),c?(a=!0,s=`http://${c}?ns=${l.namespace}`,o=Jc(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const f=i&&a?new or(or.OWNER):new ob(t.name,t.options,e);mC("Invalid Firebase Database URL",o),ue(o.path)||Xt("Database URL must point to the root of a Firebase Database (not including a child path).");const u=KC(l,t,f,new sb(t.name,n));return new zC(u,t)}function GC(t,e){const n=Jo[e];(!n||n[t.key]!==t)&&Xt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),xC(t),delete n[t.key]}function KC(t,e,n,r){let i=Jo[e.name];i||(i={},Jo[e.name]=i);let s=i[t.toURLString()];return s&&Xt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new CC(t,WC,n,r),i[t.toURLString()]=s,s}class zC{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(wC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nn(this._repo,_e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(GC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Xt("Cannot call "+e+" on a deleted database.")}}function qC(t=My(),e){const n=Ny(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Cv("database");r&&YC(n,...r)}return n}function YC(t,e,n,r={}){t=br(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Xt("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Xt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new or(or.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:wv(r.mockUserToken,t.app.options.projectId);s=new or(o)}VC(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t){jy(Dy),Xi(new li("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return jC(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ir(mc,vc,t),ir(mc,vc,"esm2017")}Jt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Jt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};QC();var JC="firebase",XC="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir(JC,XC,"app");const ZC={apiKey:"AIzaSyCORPg0naNdGeNKhWqx3uf1t23_tc4HfT8",authDomain:"funquizgame-7e388.firebaseapp.com",projectId:"funquizgame-7e388",storageBucket:"funquizgame-7e388.appspot.com",messagingSenderId:"52555073590",appId:"1:52555073590:web:acf09083912079995db097",measurementId:"G-8RBXHLCSXJ"};Kf(ZC);const eu=qC(),ew={props:{TogglePopup:null,score:null,scoreSaved:null,scoreSave:null},data(){return{text:"",leaderboard:[],realUserName:null,rank:null,level:null}},computed:{},created(){this.leaderboard=this.getLeaderboard(),this.realUserName=this.username,this.level=this.$store.state.level},mounted(){},methods:{writeUserScore:function(){console.log(this.leaderboard),FC(Zc(eu,"users/"),{username:this.$refs.inputField.value,score:this.score,level:this.$store.state.level}).then(()=>{this.scoreSaved()}).catch(t=>{console.log("error")}),document.getElementById("inputID").value="",this.leaderboard=this.getLeaderboard()},getLeaderboard:function(){let t=Zc(eu,"users"),e=[];return $C(t,function(n){n.forEach(function(r){e.push([r.val().username,r.val().score,r.val().level])})}),e=e.sort(function(n,r){return n[1]-r[1]}),console.log(this.realUserName),e=e.slice(-10),e.reverse(),e},indexOf:function(t,e){for(let n=0;n<t.length;n++)if(t[n][0]==e[0]&&t[n][1]==e[1])return n}}},tw={class:"popup"},nw={class:"popup-inner"},rw={key:0,class:"styled-table"},iw={key:3},sw={id:"flex-button"},ow=["onClick"];function lw(t,e,n,r,i,s){const o=An("router-link");return Ye(),yt("div",tw,[ie("div",nw,[w_(t.$slots,"default",{},void 0,!0),e[5]||(e[5]=ie("h1",null,"Congratulations",-1)),ie("h2",null,"Your score was "+Ht(n.score),1),n.scoreSave?(Ye(),yt("table",rw,[e[4]||(e[4]=ie("thead",null,[ie("tr",null,[ie("th",null,"Rank"),ie("th",null,"Name"),ie("th",null,"Score"),ie("th",null,"Difficulty")])],-1)),ie("tbody",null,[(Ye(!0),yt(nt,null,C_(i.leaderboard,(l,a)=>(Ye(),yt("tr",{key:a},[ie("td",null,Ht(a+1),1),ie("td",null,Ht(l[0]),1),ie("td",null,Ht(l[1]),1),ie("td",null,Ht(l[2]),1)]))),128))])])):qn("",!0),n.scoreSave?qn("",!0):(Ye(),yt("input",{key:1,id:"inputID",type:"text",placeholder:"Enter Name",ref:"inputField",onKeyup:e[0]||(e[0]=Mg((...l)=>s.writeUserScore&&s.writeUserScore(...l),["enter"]))},null,544)),n.scoreSave?qn("",!0):(Ye(),yt("button",{key:2,id:"enter",onClick:e[1]||(e[1]=(...l)=>s.writeUserScore&&s.writeUserScore(...l))},"Enter")),n.scoreSave?(Ye(),yt("div",iw,"Your score was added!!")):qn("",!0),ie("div",sw,[ie("button",{class:"popup-close",onClick:e[2]||(e[2]=l=>n.TogglePopup())}," Play Again "),Oe(o,{to:"/",custom:""},{default:Pn(({navigate:l})=>[ie("button",{onClick:[l,e[3]||(e[3]=(...a)=>t.test&&t.test(...a))],role:"link"}," Home",8,ow)]),_:1})])])])}const aw=vr(ew,[["render",lw],["__scopeId","data-v-7d3c6a56"]]),cw="/MacQuiz/assets/logo-test.0fee0a83.png";const tu=["77 Mac","Bell","Campus Center","Carnegie","Chapel","DeWitt Wallace Library","Humanities","Janet Wallace","Kagin","Leonard Center","Link","Markim","Old Main","Olin Rice","Weyerhaeuser","30 Mac","Bigelow","Doty","Dupre","George Draper Dayton","Kirk","Turk","Wallace"],uw=new Audio("./src/assets/sounds/click.wav"),kr=new Audio("./src/assets/sounds/cd.wav"),nu=new Audio("./src/assets/sounds/ding.wav");new Audio("./src/assets/sounds/ding2.wav");const fw=new Audio("./src/assets/sounds/nope.wav"),hw=new Audio("./src/assets/sounds/nope2.wav"),Lr=new Audio("./src/assets/sounds/nope3.wav"),dw={components:{finished:aw,"v-button":hv},data(){return{score:0,display:!1,randomPlaces:null,places:tu,imageMap:new Map([["30 Mac",["00"]],["77 Mac",["00"]],["Bigelow",["00"]],["Campus Center",["00","01"]],["Carnegie",["00","01"]],["DeWitt Wallace Library",["00","01","02","03","04","05","06","07","08","09","10"]],["Dupre",["00","01","02","03"]],["George Draper Dayton",["00"]],["Humanities",["00","01","02"]],["Janet Wallace",["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15"]],["Kagin",["00","01"]],["Kirk",["00","01"]],["Leonard Center",["00","01","02","03","04","05","06","07","08"]],["Link",["00"]],["Markim",["00","01"]],["Old Main",["00","01","02","03","04","05"]],["Olin Rice",["00","01","02","03","04","05","06","07","08","09","10","11","12"]],["Turck",["00","01"]],["Wallace",["00","01"]],["Weyerhaeuser",["00","01","02","03","04"]]]),picsUsed:[],image:null,correctAns:null,clickedBtn:null,timerCount:1e3,stopTimer:!1,points:0,timer:null,isRunning:!1,lives:3,buttonTrigger:!1,scoreSaved:!1}},created:function(){this.isRunning=!0,this.timer||(this.timer=setInterval(()=>{this.timerCount>0?this.timerCount--:(this.stop(),this.optionBtn(),document.querySelector("#timerVisual").className="")},10))},computed:{options(){let t=this.places,e=[],n=0;for(;e.length<4;){let i=Math.floor(Math.random()*this.places.length);!e.includes(t[i])&&t[i]!==this.correctAns&&(e[n]=t[i],n++)}let r=Math.floor(Math.random()*e.length);return e[r]=this.correctAns,e}},mounted(){this.picsUsed=[],this.image=this.randomImg(),this.options[0],this.options[1],this.options[2],this.options[3]=this.randomOption2(),this.places=tu,this.correctAns=this.correctAnswer(),this.randomPlaces=this.randomOption2()},methods:{stopAllSounds:function(){kr.pause(),kr.currentTime=0,Lr.pause(),Lr.currentTime=0},toggleScoreSavedTrue:function(){this.scoreSaved=!0},resetGame:function(){this.score=0,this.image=null,this.correctAns=null,this.clickedBtn=null,this.timerCount=1e3,this.stopTimer=!1,this.points=0,this.timer=null,this.isRunning=!1,this.lives=3,this.buttonTrigger=!1,this.scoreSaved=!1,this.picsUsed=[],this.nextClick()},optionBtn:function(t){kr.pause(),this.showCorrectAnswer(),this.display=!this.display,this.clickedBtn=t!==void 0?t.target.id:void 0,this.stopTimer=!0,this.stop(),this.checkIfCorrect(),document.querySelector(".color").style.animationPlayState="paused",this.lives<=0&&this.TogglePopup()},toggleDisplay:function(){this.display=!this.display},TogglePopup:function(){this.buttonTrigger=!this.buttonTrigger},randomOption2:function(){let t=this.places,e=[],n=0;for(;e.length<4;){let i=Math.floor(Math.random()*this.places.length);!e.includes(t[i])&&t[i]!==this.correctAns&&(e[n]=t[i],n++)}let r=Math.floor(Math.random()*e.length);return e[r]=this.correctAns,e},randomImg:function(){kr.currentTime=0,kr.play(),Lr.pause(),Lr.currentTime=0;let t="",e=this.imageMap;this.$store.state.level==="easy"?t="reg":this.$store.state.level==="medium"?t="pix":this.$store.state.level==="hard"&&(t="inv");const n=e,i=Array.from(n.keys()).random(),s=n.get(i),o=Math.floor(Math.random()*s.length),l=s[o],c="src/assets/images/"+t+"/"+i+"/"+l+".jpg";return this.picsUsed.includes(c)?this.randomImg():(this.picsUsed.push(c),c)},nextClick:function(){uw.play(),document.querySelector("#timerVisual").className="",document.querySelector("#timerVisual").offsetWidth,this.toggleDisplay(),this.resetClasses(),this.image=this.randomImg(),this.correctAns=this.correctAnswer(),this.start();let t=this.randomOption2();this.options[0]=t[0],this.options[1]=t[1],this.options[2]=t[2],this.options[3]=t[3],this.timerCount=1e3,this.stopTimer=!1,document.querySelector("#timerVisual").className="color",document.querySelector(".color").style.animationPlayState="running"},correctAnswer:function(){return this.image.slice(22,this.image.length-7)},showCorrectAnswer:function(){this.options[0]===this.correctAns?(document.getElementById("option1").className="correct",document.getElementById("option2").className="incorrect",document.getElementById("option3").className="incorrect",document.getElementById("option4").className="incorrect"):this.options[1]===this.correctAns?(document.getElementById("option2").className="correct",document.getElementById("option1").className="incorrect",document.getElementById("option3").className="incorrect",document.getElementById("option4").className="incorrect"):this.options[2]===this.correctAns?(document.getElementById("option3").className="correct",document.getElementById("option2").className="incorrect",document.getElementById("option1").className="incorrect",document.getElementById("option4").className="incorrect"):this.options[3]===this.correctAns&&(document.getElementById("option4").className="correct",document.getElementById("option2").className="incorrect",document.getElementById("option3").className="incorrect",document.getElementById("option1").className="incorrect")},resetClasses:function(){document.getElementById("option4").className="non",document.getElementById("option2").className="non",document.getElementById("option3").className="non",document.getElementById("option1").className="non"},checkIfCorrect:function(){if(this.clickedBtn!==void 0&&document.getElementById(this.clickedBtn).className==="correct"){this.score+=this.timerCount,nu.play(),nu.currentTime=0;return}switch(this.lives--,this.lives){case 2:fw.play();break;case 1:hw.play();break;case 0:Lr.play()}},start(){this.timerCount=1e3,this.isRunning=!0,this.timer||(this.timer=setInterval(()=>{this.timerCount>0?this.timerCount--:(this.stop(),this.optionBtn())},10))},stop(){this.isRunning=!1,clearInterval(this.timer),this.timer=null}}};Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};const pw={class:"navBar"},_w={class:"container"},gw={class:"flexBox",id:"image"},mw=["src"],vw={class:"flexBox",id:"options"},yw={id:"info"},bw={id:"lives"},Ew={class:"timerInfo",id:"timer"},Cw={id:"points"};function ww(t,e,n,r,i,s){const o=An("router-link"),l=An("finished"),a=An("v-button");return Ye(),yt(nt,null,[ie("div",pw,[Oe(o,{id:"homeBtn",to:"/",onClick:t.test},{default:Pn(()=>e[1]||(e[1]=[ie("img",{alt:"FunQuizGame Logo",class:"logo",src:cw},null,-1)])),_:1},8,["onClick"]),Oe(o,{id:"homeBtn",to:"/",onClick:t.test},{default:Pn(()=>e[2]||(e[2]=[ni("FunQuizGame")])),_:1},8,["onClick"])]),ie("div",_w,[i.buttonTrigger?(Ye(),Ki(l,{key:0,score:i.score,TogglePopup:s.resetGame,scoreSave:i.scoreSaved,scoreSaved:s.toggleScoreSavedTrue},null,8,["score","TogglePopup","scoreSave","scoreSaved"])):qn("",!0),ie("div",gw,[ie("img",{src:i.image},null,8,mw)]),ie("div",vw,[ie("div",yw,[ni(" Score:"+Ht(i.score)+" ",1),ie("span",bw,"Lives: "+Ht(i.lives),1)]),ie("div",Ew,[ie("span",Cw,Ht(i.timerCount),1),e[3]||(e[3]=ie("div",{id:"timerVisual",class:"color"},null,-1))]),Oe(a,{id:"option1",onclick:s.optionBtn,option:s.options[0],class:"non",disabled:i.display},null,8,["onclick","option","disabled"]),Oe(a,{id:"option2",onclick:s.optionBtn,option:s.options[1],class:"non",disabled:i.display},null,8,["onclick","option","disabled"]),Oe(a,{id:"option3",onclick:s.optionBtn,option:s.options[2],class:"non",disabled:i.display},null,8,["onclick","option","disabled"]),Oe(a,{id:"option4",onclick:s.optionBtn,option:s.options[3],class:"non",disabled:i.display},null,8,["onclick","option","disabled"])]),i.display?(Ye(),yt("button",{key:1,onClick:e[0]||(e[0]=c=>s.nextClick()),id:"next"}," Next")):qn("",!0)])],64)}const Sw=vr(dw,[["render",ww],["__scopeId","data-v-45b7a519"]]),Iw=[{path:"/",component:cv},{path:"/game",component:Sw}],pd=rv({history:Dm(),routes:Iw});/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var sa="store";function Tw(t){return t===void 0&&(t=null),Wt(t!==null?t:sa)}function Rw(t,e){return t.filter(e)[0]}function Xo(t,e){if(e===void 0&&(e=[]),t===null||typeof t!="object")return t;var n=Rw(e,function(i){return i.original===t});if(n)return n.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach(function(i){r[i]=Xo(t[i],e)}),r}function Sr(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function _d(t){return t!==null&&typeof t=="object"}function xw(t){return t&&typeof t.then=="function"}function Aw(t,e){return function(){return t(e)}}function gd(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function md(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Ms(t,n,[],t._modules.root,!0),oa(t,n,e)}function oa(t,e,n){var r=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,o={},l={},a=Rp(!0);a.run(function(){Sr(s,function(c,f){o[f]=Aw(c,t),l[f]=Ct(function(){return o[f]()}),Object.defineProperty(t.getters,f,{get:function(){return l[f].value},enumerable:!0})})}),t._state=yi({data:e}),t._scope=a,t.strict&&Mw(t),r&&n&&t._withCommit(function(){r.data=null}),i&&i.stop()}function Ms(t,e,n,r,i){var s=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!s&&!i){var l=la(e,n.slice(0,-1)),a=n[n.length-1];t._withCommit(function(){l[a]=r.state})}var c=r.context=Nw(t,o,n);r.forEachMutation(function(f,u){var h=o+u;Ow(t,h,f,c)}),r.forEachAction(function(f,u){var h=f.root?u:o+u,g=f.handler||f;Pw(t,h,g,c)}),r.forEachGetter(function(f,u){var h=o+u;Dw(t,h,f,c)}),r.forEachChild(function(f,u){Ms(t,e,n.concat(u),f,i)})}function Nw(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(s,o,l){var a=fs(s,o,l),c=a.payload,f=a.options,u=a.type;return(!f||!f.root)&&(u=e+u),t.dispatch(u,c)},commit:r?t.commit:function(s,o,l){var a=fs(s,o,l),c=a.payload,f=a.options,u=a.type;(!f||!f.root)&&(u=e+u),t.commit(u,c,f)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return vd(t,e)}},state:{get:function(){return la(t.state,n)}}}),i}function vd(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function Ow(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(o){n.call(t,r.state,o)})}function Pw(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(o){var l=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return xw(l)||(l=Promise.resolve(l)),t._devtoolHook?l.catch(function(a){throw t._devtoolHook.emit("vuex:error",a),a}):l})}function Dw(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function Mw(t){rr(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function la(t,e){return e.reduce(function(n,r){return n[r]},t)}function fs(t,e,n){return _d(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var kw="vuex bindings",ru="vuex:mutations",_o="vuex:actions",Gn="vuex",Lw=0;function Fw(t,e){tm({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[kw]},function(n){n.addTimelineLayer({id:ru,label:"Vuex Mutations",color:iu}),n.addTimelineLayer({id:_o,label:"Vuex Actions",color:iu}),n.addInspector({id:Gn,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Gn)if(r.filter){var i=[];Cd(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[Ed(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Gn){var i=r.nodeId;vd(e,i),r.state=$w(Ww(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Gn){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){r.set(e._state.data,s,r.state.value)})}}),e.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(Gn),n.sendInspectorState(Gn),n.addTimelineEvent({layerId:ru,event:{time:Date.now(),title:r.type,data:s}})}),e.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=Lw++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:_o,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},o=Date.now()-r._time;s.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:_o,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var iu=8702998,Bw=6710886,Uw=16777215,yd={label:"namespaced",textColor:Uw,backgroundColor:Bw};function bd(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function Ed(t,e){return{id:e||"root",label:bd(e),tags:t.namespaced?[yd]:[],children:Object.keys(t._children).map(function(n){return Ed(t._children[n],e+n+"/")})}}function Cd(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[yd]:[]}),Object.keys(e._children).forEach(function(i){Cd(t,e._children[i],n,r+i+"/")})}function $w(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var s=Hw(e);i.getters=Object.keys(s).map(function(o){return{key:o.endsWith("/")?bd(o):o,editable:!1,value:Zo(function(){return s[o]})}})}return i}function Hw(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,s=r.pop();r.forEach(function(o){i[o]||(i[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),i=i[o]._custom.value}),i[s]=Zo(function(){return t[n]})}else e[n]=Zo(function(){return t[n]})}),e}function Ww(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var o=r[i];if(!o)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===n.length-1?o:o._children},e==="root"?t:t.root._children)}function Zo(t){try{return t()}catch(e){return e}}var Lt=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},wd={namespaced:{configurable:!0}};wd.namespaced.get=function(){return!!this._rawModule.namespaced};Lt.prototype.addChild=function(e,n){this._children[e]=n};Lt.prototype.removeChild=function(e){delete this._children[e]};Lt.prototype.getChild=function(e){return this._children[e]};Lt.prototype.hasChild=function(e){return e in this._children};Lt.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Lt.prototype.forEachChild=function(e){Sr(this._children,e)};Lt.prototype.forEachGetter=function(e){this._rawModule.getters&&Sr(this._rawModule.getters,e)};Lt.prototype.forEachAction=function(e){this._rawModule.actions&&Sr(this._rawModule.actions,e)};Lt.prototype.forEachMutation=function(e){this._rawModule.mutations&&Sr(this._rawModule.mutations,e)};Object.defineProperties(Lt.prototype,wd);var Un=function(e){this.register([],e,!1)};Un.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Un.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Un.prototype.update=function(e){Sd([],this.root,e)};Un.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var s=new Lt(n,r);if(e.length===0)this.root=s;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],s)}n.modules&&Sr(n.modules,function(l,a){i.register(e.concat(a),l,r)})};Un.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);!i||!i.runtime||n.removeChild(r)};Un.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function Sd(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;Sd(t.concat(r),e.getChild(r),n.modules[r])}}function Vw(t){return new ct(t)}var ct=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Un(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var o=this,l=this,a=l.dispatch,c=l.commit;this.dispatch=function(h,g){return a.call(o,h,g)},this.commit=function(h,g,w){return c.call(o,h,g,w)},this.strict=i;var f=this._modules.root.state;Ms(this,f,[],this._modules.root),oa(this,f),r.forEach(function(u){return u(n)})},aa={state:{configurable:!0}};ct.prototype.install=function(e,n){e.provide(n||sa,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&Fw(e,this)};aa.state.get=function(){return this._state.data};aa.state.set=function(t){};ct.prototype.commit=function(e,n,r){var i=this,s=fs(e,n,r),o=s.type,l=s.payload,a={type:o,payload:l},c=this._mutations[o];!c||(this._withCommit(function(){c.forEach(function(u){u(l)})}),this._subscribers.slice().forEach(function(f){return f(a,i.state)}))};ct.prototype.dispatch=function(e,n){var r=this,i=fs(e,n),s=i.type,o=i.payload,l={type:s,payload:o},a=this._actions[s];if(!!a){try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(l,r.state)})}catch{}var c=a.length>1?Promise.all(a.map(function(f){return f(o)})):a[0](o);return new Promise(function(f,u){c.then(function(h){try{r._actionSubscribers.filter(function(g){return g.after}).forEach(function(g){return g.after(l,r.state)})}catch{}f(h)},function(h){try{r._actionSubscribers.filter(function(g){return g.error}).forEach(function(g){return g.error(l,r.state,h)})}catch{}u(h)})})}};ct.prototype.subscribe=function(e,n){return gd(e,this._subscribers,n)};ct.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return gd(r,this._actionSubscribers,n)};ct.prototype.watch=function(e,n,r){var i=this;return rr(function(){return e(i.state,i.getters)},n,Object.assign({},r))};ct.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};ct.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Ms(this,this.state,e,this._modules.get(e),r.preserveState),oa(this,this.state)};ct.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=la(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),md(this)};ct.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};ct.prototype.hotUpdate=function(e){this._modules.update(e),md(this,!0)};ct.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(ct.prototype,aa);var Id=Ls(function(t,e){var n={};return ks(e).forEach(function(r){var i=r.key,s=r.val;n[i]=function(){var l=this.$store.state,a=this.$store.getters;if(t){var c=Fs(this.$store,"mapState",t);if(!c)return;l=c.context.state,a=c.context.getters}return typeof s=="function"?s.call(this,l,a):l[s]},n[i].vuex=!0}),n}),Td=Ls(function(t,e){var n={};return ks(e).forEach(function(r){var i=r.key,s=r.val;n[i]=function(){for(var l=[],a=arguments.length;a--;)l[a]=arguments[a];var c=this.$store.commit;if(t){var f=Fs(this.$store,"mapMutations",t);if(!f)return;c=f.context.commit}return typeof s=="function"?s.apply(this,[c].concat(l)):c.apply(this.$store,[s].concat(l))}}),n}),Rd=Ls(function(t,e){var n={};return ks(e).forEach(function(r){var i=r.key,s=r.val;s=t+s,n[i]=function(){if(!(t&&!Fs(this.$store,"mapGetters",t)))return this.$store.getters[s]},n[i].vuex=!0}),n}),xd=Ls(function(t,e){var n={};return ks(e).forEach(function(r){var i=r.key,s=r.val;n[i]=function(){for(var l=[],a=arguments.length;a--;)l[a]=arguments[a];var c=this.$store.dispatch;if(t){var f=Fs(this.$store,"mapActions",t);if(!f)return;c=f.context.dispatch}return typeof s=="function"?s.apply(this,[c].concat(l)):c.apply(this.$store,[s].concat(l))}}),n}),jw=function(t){return{mapState:Id.bind(null,t),mapGetters:Rd.bind(null,t),mapMutations:Td.bind(null,t),mapActions:xd.bind(null,t)}};function ks(t){return Gw(t)?Array.isArray(t)?t.map(function(e){return{key:e,val:e}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}}):[]}function Gw(t){return Array.isArray(t)||_d(t)}function Ls(t){return function(e,n){return typeof e!="string"?(n=e,e=""):e.charAt(e.length-1)!=="/"&&(e+="/"),t(e,n)}}function Fs(t,e,n){var r=t._modulesNamespaceMap[n];return r}function Kw(t){t===void 0&&(t={});var e=t.collapsed;e===void 0&&(e=!0);var n=t.filter;n===void 0&&(n=function(f,u,h){return!0});var r=t.transformer;r===void 0&&(r=function(f){return f});var i=t.mutationTransformer;i===void 0&&(i=function(f){return f});var s=t.actionFilter;s===void 0&&(s=function(f,u){return!0});var o=t.actionTransformer;o===void 0&&(o=function(f){return f});var l=t.logMutations;l===void 0&&(l=!0);var a=t.logActions;a===void 0&&(a=!0);var c=t.logger;return c===void 0&&(c=console),function(f){var u=Xo(f.state);typeof c>"u"||(l&&f.subscribe(function(h,g){var w=Xo(g);if(n(h,u,w)){var R=lu(),U=i(h),j="mutation "+h.type+R;su(c,j,e),c.log("%c prev state","color: #9E9E9E; font-weight: bold",r(u)),c.log("%c mutation","color: #03A9F4; font-weight: bold",U),c.log("%c next state","color: #4CAF50; font-weight: bold",r(w)),ou(c)}u=w}),a&&f.subscribeAction(function(h,g){if(s(h,g)){var w=lu(),R=o(h),U="action "+h.type+w;su(c,U,e),c.log("%c action","color: #03A9F4; font-weight: bold",R),ou(c)}}))}}function su(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch{t.log(e)}}function ou(t){try{t.groupEnd()}catch{t.log("\u2014\u2014 log end \u2014\u2014")}}function lu(){var t=new Date;return" @ "+ki(t.getHours(),2)+":"+ki(t.getMinutes(),2)+":"+ki(t.getSeconds(),2)+"."+ki(t.getMilliseconds(),3)}function zw(t,e){return new Array(e+1).join(t)}function ki(t,e){return zw("0",e-t.toString().length)+t}var qw={version:"4.1.0",Store:ct,storeKey:sa,createStore:Vw,useStore:Tw,mapState:Id,mapMutations:Td,mapGetters:Rd,mapActions:xd,createNamespacedHelpers:jw,createLogger:Kw};const Yw=qw;var Li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qw=function(e){return Jw(e)&&!Xw(e)};function Jw(t){return!!t&&typeof t=="object"}function Xw(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||tS(t)}var Zw=typeof Symbol=="function"&&Symbol.for,eS=Zw?Symbol.for("react.element"):60103;function tS(t){return t.$$typeof===eS}function nS(t){return Array.isArray(t)?[]:{}}function gi(t,e){return e.clone!==!1&&e.isMergeableObject(t)?mr(nS(t),t,e):t}function rS(t,e,n){return t.concat(e).map(function(r){return gi(r,n)})}function iS(t,e){if(!e.customMerge)return mr;var n=e.customMerge(t);return typeof n=="function"?n:mr}function sS(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function au(t){return Object.keys(t).concat(sS(t))}function Ad(t,e){try{return e in t}catch{return!1}}function oS(t,e){return Ad(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function lS(t,e,n){var r={};return n.isMergeableObject(t)&&au(t).forEach(function(i){r[i]=gi(t[i],n)}),au(e).forEach(function(i){oS(t,i)||(Ad(t,i)&&n.isMergeableObject(e[i])?r[i]=iS(i,n)(t[i],e[i],n):r[i]=gi(e[i],n))}),r}function mr(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||rS,n.isMergeableObject=n.isMergeableObject||Qw,n.cloneUnlessOtherwiseSpecified=gi;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):lS(t,e,n):gi(e,n)}mr.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return mr(r,i,n)},{})};var aS=mr,cS=aS;let el;el=class{get length(){return Object.keys(this).length}key(t){return Object.keys(this)[t]}setItem(t,e){this[t]=e.toString()}getItem(t){return this[t]}removeItem(t){delete this[t]}clear(){for(let t of Object.keys(this))delete this[t]}};class uS{constructor(){this._queue=[],this._flushing=!1}enqueue(e){return this._queue.push(e),this._flushing?Promise.resolve():this.flushQueue()}flushQueue(){this._flushing=!0;const e=()=>{const n=this._queue.shift();if(n)return n.then(e);this._flushing=!1};return Promise.resolve(e())}}const fS={replaceArrays:{arrayMerge:(t,e,n)=>e},concatArrays:{arrayMerge:(t,e,n)=>t.concat(...e)}};function Fr(t,e,n){return cS(t,e,fS[n])}let Br=JSON;class hS{constructor(e){this._mutex=new uS,this.subscriber=r=>i=>r.subscribe(i),typeof e>"u"&&(e={}),this.key=e.key!=null?e.key:"vuex",this.subscribed=!1,this.supportCircular=e.supportCircular||!1,this.supportCircular&&(Br=require("flatted")),this.mergeOption=e.mergeOption||"replaceArrays";let n=!0;try{window.localStorage.getItem("")}catch{n=!1}if(e.storage)this.storage=e.storage;else if(n)this.storage=window.localStorage;else if(el)this.storage=new el;else throw new Error("Neither 'window' is defined, nor 'MockStorage' is available");this.reducer=e.reducer!=null?e.reducer:e.modules==null?r=>r:r=>e.modules.reduce((i,s)=>Fr(i,{[s]:r[s]},this.mergeOption),{}),this.filter=e.filter||(r=>!0),this.strictMode=e.strictMode||!1,this.RESTORE_MUTATION=function(i,s){const o=Fr(i,s||{},this.mergeOption);for(const l of Object.keys(o))this._vm.$set(i,l,o[l])},this.asyncStorage=e.asyncStorage||!1,this.asyncStorage?(this.restoreState=e.restoreState!=null?e.restoreState:(r,i)=>i.getItem(r).then(s=>typeof s=="string"?this.supportCircular?Br.parse(s||"{}"):JSON.parse(s||"{}"):s||{}),this.saveState=e.saveState!=null?e.saveState:(r,i,s)=>s.setItem(r,this.asyncStorage?Fr({},i||{},this.mergeOption):this.supportCircular?Br.stringify(i):JSON.stringify(i)),this.plugin=r=>{r.restored=this.restoreState(this.key,this.storage).then(i=>{this.strictMode?r.commit("RESTORE_MUTATION",i):r.replaceState(Fr(r.state,i||{},this.mergeOption)),this.subscriber(r)((s,o)=>{this.filter(s)&&this._mutex.enqueue(this.saveState(this.key,this.reducer(o),this.storage))}),this.subscribed=!0})}):(this.restoreState=e.restoreState!=null?e.restoreState:(r,i)=>{const s=i.getItem(r);return typeof s=="string"?this.supportCircular?Br.parse(s||"{}"):JSON.parse(s||"{}"):s||{}},this.saveState=e.saveState!=null?e.saveState:(r,i,s)=>s.setItem(r,this.supportCircular?Br.stringify(i):JSON.stringify(i)),this.plugin=r=>{const i=this.restoreState(this.key,this.storage);this.strictMode?r.commit("RESTORE_MUTATION",i):r.replaceState(Fr(r.state,i||{},this.mergeOption)),this.subscriber(r)((s,o)=>{this.filter(s)&&this.saveState(this.key,this.reducer(o),this.storage)}),this.subscribed=!0})}}const dS=hS;function Fi(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Nd={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(c,f){if(!i[c]){if(!r[c]){var u=typeof Fi=="function"&&Fi;if(!f&&u)return u(c,!0);if(l)return l(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var g=i[c]={exports:{}};r[c][0].call(g.exports,function(w){var R=r[c][1][w];return o(R||w)},g,g.exports,n,r,i,s)}return i[c].exports}for(var l=typeof Fi=="function"&&Fi,a=0;a<s.length;a++)o(s[a]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,l;if(o){var a=0,c=new o(w),f=s.document.createTextNode("");c.observe(f,{characterData:!0}),l=function(){f.data=a=++a%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var u=new s.MessageChannel;u.port1.onmessage=w,l=function(){u.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?l=function(){var U=s.document.createElement("script");U.onreadystatechange=function(){w(),U.onreadystatechange=null,U.parentNode.removeChild(U),U=null},s.document.documentElement.appendChild(U)}:l=function(){setTimeout(w,0)};var h,g=[];function w(){h=!0;for(var U,j,$=g.length;$;){for(j=g,g=[],U=-1;++U<$;)j[U]();$=g.length}h=!1}r.exports=R;function R(U){g.push(U)===1&&!h&&l()}}).call(this,typeof Li<"u"?Li:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var l={},a=["REJECTED"],c=["FULFILLED"],f=["PENDING"];r.exports=u;function u(O){if(typeof O!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,O!==o&&R(this,O)}u.prototype.catch=function(O){return this.then(null,O)},u.prototype.then=function(O,Z){if(typeof O!="function"&&this.state===c||typeof Z!="function"&&this.state===a)return this;var z=new this.constructor(o);if(this.state!==f){var se=this.state===c?O:Z;g(z,se,this.outcome)}else this.queue.push(new h(z,O,Z));return z};function h(O,Z,z){this.promise=O,typeof Z=="function"&&(this.onFulfilled=Z,this.callFulfilled=this.otherCallFulfilled),typeof z=="function"&&(this.onRejected=z,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(O){l.resolve(this.promise,O)},h.prototype.otherCallFulfilled=function(O){g(this.promise,this.onFulfilled,O)},h.prototype.callRejected=function(O){l.reject(this.promise,O)},h.prototype.otherCallRejected=function(O){g(this.promise,this.onRejected,O)};function g(O,Z,z){s(function(){var se;try{se=Z(z)}catch(Se){return l.reject(O,Se)}se===O?l.reject(O,new TypeError("Cannot resolve promise with itself")):l.resolve(O,se)})}l.resolve=function(O,Z){var z=U(w,Z);if(z.status==="error")return l.reject(O,z.value);var se=z.value;if(se)R(O,se);else{O.state=c,O.outcome=Z;for(var Se=-1,Pe=O.queue.length;++Se<Pe;)O.queue[Se].callFulfilled(Z)}return O},l.reject=function(O,Z){O.state=a,O.outcome=Z;for(var z=-1,se=O.queue.length;++z<se;)O.queue[z].callRejected(Z);return O};function w(O){var Z=O&&O.then;if(O&&(typeof O=="object"||typeof O=="function")&&typeof Z=="function")return function(){Z.apply(O,arguments)}}function R(O,Z){var z=!1;function se(Fe){z||(z=!0,l.reject(O,Fe))}function Se(Fe){z||(z=!0,l.resolve(O,Fe))}function Pe(){Z(Se,se)}var ke=U(Pe);ke.status==="error"&&se(ke.value)}function U(O,Z){var z={};try{z.value=O(Z),z.status="success"}catch(se){z.status="error",z.value=se}return z}u.resolve=j;function j(O){return O instanceof this?O:l.resolve(new this(o),O)}u.reject=$;function $(O){var Z=new this(o);return l.reject(Z,O)}u.all=Q;function Q(O){var Z=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=O.length,se=!1;if(!z)return this.resolve([]);for(var Se=new Array(z),Pe=0,ke=-1,Fe=new this(o);++ke<z;)Be(O[ke],ke);return Fe;function Be(It,Tt){Z.resolve(It).then(De,function(fe){se||(se=!0,l.reject(Fe,fe))});function De(fe){Se[Tt]=fe,++Pe===z&&!se&&(se=!0,l.resolve(Fe,Se))}}}u.race=K;function K(O){var Z=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=O.length,se=!1;if(!z)return this.resolve([]);for(var Se=-1,Pe=new this(o);++Se<z;)ke(O[Se]);return Pe;function ke(Fe){Z.resolve(Fe).then(function(Be){se||(se=!0,l.resolve(Pe,Be))},function(Be){se||(se=!0,l.reject(Pe,Be))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Li<"u"?Li:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};function o(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var a=l();function c(){try{if(!a||!a.open)return!1;var d=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),v=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!d||v)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function f(d,v){d=d||[],v=v||{};try{return new Blob(d,v)}catch(y){if(y.name!=="TypeError")throw y;for(var p=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,b=new p,E=0;E<d.length;E+=1)b.append(d[E]);return b.getBlob(v.type)}}typeof Promise>"u"&&n(3);var u=Promise;function h(d,v){v&&d.then(function(p){v(null,p)},function(p){v(p)})}function g(d,v,p){typeof v=="function"&&d.then(v),typeof p=="function"&&d.catch(p)}function w(d){return typeof d!="string"&&(console.warn(d+" used as a key, but it is not a string."),d=String(d)),d}function R(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var U="local-forage-detect-blob-support",j=void 0,$={},Q=Object.prototype.toString,K="readonly",O="readwrite";function Z(d){for(var v=d.length,p=new ArrayBuffer(v),b=new Uint8Array(p),E=0;E<v;E++)b[E]=d.charCodeAt(E);return p}function z(d){return new u(function(v){var p=d.transaction(U,O),b=f([""]);p.objectStore(U).put(b,"key"),p.onabort=function(E){E.preventDefault(),E.stopPropagation(),v(!1)},p.oncomplete=function(){var E=navigator.userAgent.match(/Chrome\/(\d+)/),y=navigator.userAgent.match(/Edge\//);v(y||!E||parseInt(E[1],10)>=43)}}).catch(function(){return!1})}function se(d){return typeof j=="boolean"?u.resolve(j):z(d).then(function(v){return j=v,j})}function Se(d){var v=$[d.name],p={};p.promise=new u(function(b,E){p.resolve=b,p.reject=E}),v.deferredOperations.push(p),v.dbReady?v.dbReady=v.dbReady.then(function(){return p.promise}):v.dbReady=p.promise}function Pe(d){var v=$[d.name],p=v.deferredOperations.pop();if(p)return p.resolve(),p.promise}function ke(d,v){var p=$[d.name],b=p.deferredOperations.pop();if(b)return b.reject(v),b.promise}function Fe(d,v){return new u(function(p,b){if($[d.name]=$[d.name]||qe(),d.db)if(v)Se(d),d.db.close();else return p(d.db);var E=[d.name];v&&E.push(d.version);var y=a.open.apply(a,E);v&&(y.onupgradeneeded=function(I){var N=y.result;try{N.createObjectStore(d.storeName),I.oldVersion<=1&&N.createObjectStore(U)}catch(D){if(D.name==="ConstraintError")console.warn('The database "'+d.name+'" has been upgraded from version '+I.oldVersion+" to version "+I.newVersion+', but the storage "'+d.storeName+'" already exists.');else throw D}}),y.onerror=function(I){I.preventDefault(),b(y.error)},y.onsuccess=function(){var I=y.result;I.onversionchange=function(N){N.target.close()},p(I),Pe(d)}})}function Be(d){return Fe(d,!1)}function It(d){return Fe(d,!0)}function Tt(d,v){if(!d.db)return!0;var p=!d.db.objectStoreNames.contains(d.storeName),b=d.version<d.db.version,E=d.version>d.db.version;if(b&&(d.version!==v&&console.warn('The database "'+d.name+`" can't be downgraded from version `+d.db.version+" to version "+d.version+"."),d.version=d.db.version),E||p){if(p){var y=d.db.version+1;y>d.version&&(d.version=y)}return!0}return!1}function De(d){return new u(function(v,p){var b=new FileReader;b.onerror=p,b.onloadend=function(E){var y=btoa(E.target.result||"");v({__local_forage_encoded_blob:!0,data:y,type:d.type})},b.readAsBinaryString(d)})}function fe(d){var v=Z(atob(d.data));return f([v],{type:d.type})}function he(d){return d&&d.__local_forage_encoded_blob}function Rt(d){var v=this,p=v._initReady().then(function(){var b=$[v._dbInfo.name];if(b&&b.dbReady)return b.dbReady});return g(p,d,d),p}function Ft(d){Se(d);for(var v=$[d.name],p=v.forages,b=0;b<p.length;b++){var E=p[b];E._dbInfo.db&&(E._dbInfo.db.close(),E._dbInfo.db=null)}return d.db=null,Be(d).then(function(y){return d.db=y,Tt(d)?It(d):y}).then(function(y){d.db=v.db=y;for(var I=0;I<p.length;I++)p[I]._dbInfo.db=y}).catch(function(y){throw ke(d,y),y})}function Ue(d,v,p,b){b===void 0&&(b=1);try{var E=d.db.transaction(d.storeName,v);p(null,E)}catch(y){if(b>0&&(!d.db||y.name==="InvalidStateError"||y.name==="NotFoundError"))return u.resolve().then(function(){if(!d.db||y.name==="NotFoundError"&&!d.db.objectStoreNames.contains(d.storeName)&&d.version<=d.db.version)return d.db&&(d.version=d.db.version+1),It(d)}).then(function(){return Ft(d).then(function(){Ue(d,v,p,b-1)})}).catch(p);p(y)}}function qe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function rn(d){var v=this,p={db:null};if(d)for(var b in d)p[b]=d[b];var E=$[p.name];E||(E=qe(),$[p.name]=E),E.forages.push(v),v._initReady||(v._initReady=v.ready,v.ready=Rt);var y=[];function I(){return u.resolve()}for(var N=0;N<E.forages.length;N++){var D=E.forages[N];D!==v&&y.push(D._initReady().catch(I))}var M=E.forages.slice(0);return u.all(y).then(function(){return p.db=E.db,Be(p)}).then(function(F){return p.db=F,Tt(p,v._defaultConfig.version)?It(p):F}).then(function(F){p.db=E.db=F,v._dbInfo=p;for(var Y=0;Y<M.length;Y++){var oe=M[Y];oe!==v&&(oe._dbInfo.db=p.db,oe._dbInfo.version=p.version)}})}function sn(d,v){var p=this;d=w(d);var b=new u(function(E,y){p.ready().then(function(){Ue(p._dbInfo,K,function(I,N){if(I)return y(I);try{var D=N.objectStore(p._dbInfo.storeName),M=D.get(d);M.onsuccess=function(){var F=M.result;F===void 0&&(F=null),he(F)&&(F=fe(F)),E(F)},M.onerror=function(){y(M.error)}}catch(F){y(F)}})}).catch(y)});return h(b,v),b}function $n(d,v){var p=this,b=new u(function(E,y){p.ready().then(function(){Ue(p._dbInfo,K,function(I,N){if(I)return y(I);try{var D=N.objectStore(p._dbInfo.storeName),M=D.openCursor(),F=1;M.onsuccess=function(){var Y=M.result;if(Y){var oe=Y.value;he(oe)&&(oe=fe(oe));var ge=d(oe,Y.key,F++);ge!==void 0?E(ge):Y.continue()}else E()},M.onerror=function(){y(M.error)}}catch(Y){y(Y)}})}).catch(y)});return h(b,v),b}function ut(d,v,p){var b=this;d=w(d);var E=new u(function(y,I){var N;b.ready().then(function(){return N=b._dbInfo,Q.call(v)==="[object Blob]"?se(N.db).then(function(D){return D?v:De(v)}):v}).then(function(D){Ue(b._dbInfo,O,function(M,F){if(M)return I(M);try{var Y=F.objectStore(b._dbInfo.storeName);D===null&&(D=void 0);var oe=Y.put(D,d);F.oncomplete=function(){D===void 0&&(D=null),y(D)},F.onabort=F.onerror=function(){var ge=oe.error?oe.error:oe.transaction.error;I(ge)}}catch(ge){I(ge)}})}).catch(I)});return h(E,p),E}function T(d,v){var p=this;d=w(d);var b=new u(function(E,y){p.ready().then(function(){Ue(p._dbInfo,O,function(I,N){if(I)return y(I);try{var D=N.objectStore(p._dbInfo.storeName),M=D.delete(d);N.oncomplete=function(){E()},N.onerror=function(){y(M.error)},N.onabort=function(){var F=M.error?M.error:M.transaction.error;y(F)}}catch(F){y(F)}})}).catch(y)});return h(b,v),b}function G(d){var v=this,p=new u(function(b,E){v.ready().then(function(){Ue(v._dbInfo,O,function(y,I){if(y)return E(y);try{var N=I.objectStore(v._dbInfo.storeName),D=N.clear();I.oncomplete=function(){b()},I.onabort=I.onerror=function(){var M=D.error?D.error:D.transaction.error;E(M)}}catch(M){E(M)}})}).catch(E)});return h(p,d),p}function W(d){var v=this,p=new u(function(b,E){v.ready().then(function(){Ue(v._dbInfo,K,function(y,I){if(y)return E(y);try{var N=I.objectStore(v._dbInfo.storeName),D=N.count();D.onsuccess=function(){b(D.result)},D.onerror=function(){E(D.error)}}catch(M){E(M)}})}).catch(E)});return h(p,d),p}function q(d,v){var p=this,b=new u(function(E,y){if(d<0){E(null);return}p.ready().then(function(){Ue(p._dbInfo,K,function(I,N){if(I)return y(I);try{var D=N.objectStore(p._dbInfo.storeName),M=!1,F=D.openKeyCursor();F.onsuccess=function(){var Y=F.result;if(!Y){E(null);return}d===0||M?E(Y.key):(M=!0,Y.advance(d))},F.onerror=function(){y(F.error)}}catch(Y){y(Y)}})}).catch(y)});return h(b,v),b}function de(d){var v=this,p=new u(function(b,E){v.ready().then(function(){Ue(v._dbInfo,K,function(y,I){if(y)return E(y);try{var N=I.objectStore(v._dbInfo.storeName),D=N.openKeyCursor(),M=[];D.onsuccess=function(){var F=D.result;if(!F){b(M);return}M.push(F.key),F.continue()},D.onerror=function(){E(D.error)}}catch(F){E(F)}})}).catch(E)});return h(p,d),p}function Ie(d,v){v=R.apply(this,arguments);var p=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||p.name,d.storeName=d.storeName||p.storeName);var b=this,E;if(!d.name)E=u.reject("Invalid arguments");else{var y=d.name===p.name&&b._dbInfo.db,I=y?u.resolve(b._dbInfo.db):Be(d).then(function(N){var D=$[d.name],M=D.forages;D.db=N;for(var F=0;F<M.length;F++)M[F]._dbInfo.db=N;return N});d.storeName?E=I.then(function(N){if(!!N.objectStoreNames.contains(d.storeName)){var D=N.version+1;Se(d);var M=$[d.name],F=M.forages;N.close();for(var Y=0;Y<F.length;Y++){var oe=F[Y];oe._dbInfo.db=null,oe._dbInfo.version=D}var ge=new u(function(be,$e){var Le=a.open(d.name,D);Le.onerror=function(Et){var Rr=Le.result;Rr.close(),$e(Et)},Le.onupgradeneeded=function(){var Et=Le.result;Et.deleteObjectStore(d.storeName)},Le.onsuccess=function(){var Et=Le.result;Et.close(),be(Et)}});return ge.then(function(be){M.db=be;for(var $e=0;$e<F.length;$e++){var Le=F[$e];Le._dbInfo.db=be,Pe(Le._dbInfo)}}).catch(function(be){throw(ke(d,be)||u.resolve()).catch(function(){}),be})}}):E=I.then(function(N){Se(d);var D=$[d.name],M=D.forages;N.close();for(var F=0;F<M.length;F++){var Y=M[F];Y._dbInfo.db=null}var oe=new u(function(ge,be){var $e=a.deleteDatabase(d.name);$e.onerror=function(){var Le=$e.result;Le&&Le.close(),be($e.error)},$e.onblocked=function(){console.warn('dropInstance blocked for database "'+d.name+'" until all open connections are closed')},$e.onsuccess=function(){var Le=$e.result;Le&&Le.close(),ge(Le)}});return oe.then(function(ge){D.db=ge;for(var be=0;be<M.length;be++){var $e=M[be];Pe($e._dbInfo)}}).catch(function(ge){throw(ke(d,ge)||u.resolve()).catch(function(){}),ge})})}return h(E,v),E}var _={_driver:"asyncStorage",_initStorage:rn,_support:c(),iterate:$n,getItem:sn,setItem:ut,removeItem:T,clear:G,length:W,key:q,keys:de,dropInstance:Ie};function m(){return typeof openDatabase=="function"}var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x="~~local_forage_type~",S=/^~~local_forage_type~([^~]+)~/,A="__lfsc__:",H=A.length,B="arbf",L="blob",P="si08",X="ui08",V="uic8",J="si16",ee="si32",ce="ur16",ye="ui32",pe="fl32",Xe="fl64",We=H+B.length,ft=Object.prototype.toString;function Ze(d){var v=d.length*.75,p=d.length,b,E=0,y,I,N,D;d[d.length-1]==="="&&(v--,d[d.length-2]==="="&&v--);var M=new ArrayBuffer(v),F=new Uint8Array(M);for(b=0;b<p;b+=4)y=C.indexOf(d[b]),I=C.indexOf(d[b+1]),N=C.indexOf(d[b+2]),D=C.indexOf(d[b+3]),F[E++]=y<<2|I>>4,F[E++]=(I&15)<<4|N>>2,F[E++]=(N&3)<<6|D&63;return M}function jt(d){var v=new Uint8Array(d),p="",b;for(b=0;b<v.length;b+=3)p+=C[v[b]>>2],p+=C[(v[b]&3)<<4|v[b+1]>>4],p+=C[(v[b+1]&15)<<2|v[b+2]>>6],p+=C[v[b+2]&63];return v.length%3===2?p=p.substring(0,p.length-1)+"=":v.length%3===1&&(p=p.substring(0,p.length-2)+"=="),p}function xi(d,v){var p="";if(d&&(p=ft.call(d)),d&&(p==="[object ArrayBuffer]"||d.buffer&&ft.call(d.buffer)==="[object ArrayBuffer]")){var b,E=A;d instanceof ArrayBuffer?(b=d,E+=B):(b=d.buffer,p==="[object Int8Array]"?E+=P:p==="[object Uint8Array]"?E+=X:p==="[object Uint8ClampedArray]"?E+=V:p==="[object Int16Array]"?E+=J:p==="[object Uint16Array]"?E+=ce:p==="[object Int32Array]"?E+=ee:p==="[object Uint32Array]"?E+=ye:p==="[object Float32Array]"?E+=pe:p==="[object Float64Array]"?E+=Xe:v(new Error("Failed to get type for BinaryArray"))),v(E+jt(b))}else if(p==="[object Blob]"){var y=new FileReader;y.onload=function(){var I=x+d.type+"~"+jt(this.result);v(A+L+I)},y.readAsArrayBuffer(d)}else try{v(JSON.stringify(d))}catch(I){console.error("Couldn't convert value into a JSON string: ",d),v(null,I)}}function ot(d){if(d.substring(0,H)!==A)return JSON.parse(d);var v=d.substring(We),p=d.substring(H,We),b;if(p===L&&S.test(v)){var E=v.match(S);b=E[1],v=v.substring(E[0].length)}var y=Ze(v);switch(p){case B:return y;case L:return f([y],{type:b});case P:return new Int8Array(y);case X:return new Uint8Array(y);case V:return new Uint8ClampedArray(y);case J:return new Int16Array(y);case ce:return new Uint16Array(y);case ee:return new Int32Array(y);case ye:return new Uint32Array(y);case pe:return new Float32Array(y);case Xe:return new Float64Array(y);default:throw new Error("Unkown type: "+p)}}var ht={serialize:xi,deserialize:ot,stringToBuffer:Ze,bufferToString:jt};function Ir(d,v,p,b){d.executeSql("CREATE TABLE IF NOT EXISTS "+v.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],p,b)}function Pd(d){var v=this,p={db:null};if(d)for(var b in d)p[b]=typeof d[b]!="string"?d[b].toString():d[b];var E=new u(function(y,I){try{p.db=openDatabase(p.name,String(p.version),p.description,p.size)}catch(N){return I(N)}p.db.transaction(function(N){Ir(N,p,function(){v._dbInfo=p,y()},function(D,M){I(M)})},I)});return p.serializer=ht,E}function on(d,v,p,b,E,y){d.executeSql(p,b,E,function(I,N){N.code===N.SYNTAX_ERR?I.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[v.storeName],function(D,M){M.rows.length?y(D,N):Ir(D,v,function(){D.executeSql(p,b,E,y)},y)},y):y(I,N)},y)}function Dd(d,v){var p=this;d=w(d);var b=new u(function(E,y){p.ready().then(function(){var I=p._dbInfo;I.db.transaction(function(N){on(N,I,"SELECT * FROM "+I.storeName+" WHERE key = ? LIMIT 1",[d],function(D,M){var F=M.rows.length?M.rows.item(0).value:null;F&&(F=I.serializer.deserialize(F)),E(F)},function(D,M){y(M)})})}).catch(y)});return h(b,v),b}function Md(d,v){var p=this,b=new u(function(E,y){p.ready().then(function(){var I=p._dbInfo;I.db.transaction(function(N){on(N,I,"SELECT * FROM "+I.storeName,[],function(D,M){for(var F=M.rows,Y=F.length,oe=0;oe<Y;oe++){var ge=F.item(oe),be=ge.value;if(be&&(be=I.serializer.deserialize(be)),be=d(be,ge.key,oe+1),be!==void 0){E(be);return}}E()},function(D,M){y(M)})})}).catch(y)});return h(b,v),b}function ca(d,v,p,b){var E=this;d=w(d);var y=new u(function(I,N){E.ready().then(function(){v===void 0&&(v=null);var D=v,M=E._dbInfo;M.serializer.serialize(v,function(F,Y){Y?N(Y):M.db.transaction(function(oe){on(oe,M,"INSERT OR REPLACE INTO "+M.storeName+" (key, value) VALUES (?, ?)",[d,F],function(){I(D)},function(ge,be){N(be)})},function(oe){if(oe.code===oe.QUOTA_ERR){if(b>0){I(ca.apply(E,[d,D,p,b-1]));return}N(oe)}})})}).catch(N)});return h(y,p),y}function kd(d,v,p){return ca.apply(this,[d,v,p,1])}function Ld(d,v){var p=this;d=w(d);var b=new u(function(E,y){p.ready().then(function(){var I=p._dbInfo;I.db.transaction(function(N){on(N,I,"DELETE FROM "+I.storeName+" WHERE key = ?",[d],function(){E()},function(D,M){y(M)})})}).catch(y)});return h(b,v),b}function Fd(d){var v=this,p=new u(function(b,E){v.ready().then(function(){var y=v._dbInfo;y.db.transaction(function(I){on(I,y,"DELETE FROM "+y.storeName,[],function(){b()},function(N,D){E(D)})})}).catch(E)});return h(p,d),p}function Bd(d){var v=this,p=new u(function(b,E){v.ready().then(function(){var y=v._dbInfo;y.db.transaction(function(I){on(I,y,"SELECT COUNT(key) as c FROM "+y.storeName,[],function(N,D){var M=D.rows.item(0).c;b(M)},function(N,D){E(D)})})}).catch(E)});return h(p,d),p}function Ud(d,v){var p=this,b=new u(function(E,y){p.ready().then(function(){var I=p._dbInfo;I.db.transaction(function(N){on(N,I,"SELECT key FROM "+I.storeName+" WHERE id = ? LIMIT 1",[d+1],function(D,M){var F=M.rows.length?M.rows.item(0).key:null;E(F)},function(D,M){y(M)})})}).catch(y)});return h(b,v),b}function $d(d){var v=this,p=new u(function(b,E){v.ready().then(function(){var y=v._dbInfo;y.db.transaction(function(I){on(I,y,"SELECT key FROM "+y.storeName,[],function(N,D){for(var M=[],F=0;F<D.rows.length;F++)M.push(D.rows.item(F).key);b(M)},function(N,D){E(D)})})}).catch(E)});return h(p,d),p}function Hd(d){return new u(function(v,p){d.transaction(function(b){b.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(E,y){for(var I=[],N=0;N<y.rows.length;N++)I.push(y.rows.item(N).name);v({db:d,storeNames:I})},function(E,y){p(y)})},function(b){p(b)})})}function Wd(d,v){v=R.apply(this,arguments);var p=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||p.name,d.storeName=d.storeName||p.storeName);var b=this,E;return d.name?E=new u(function(y){var I;d.name===p.name?I=b._dbInfo.db:I=openDatabase(d.name,"","",0),d.storeName?y({db:I,storeNames:[d.storeName]}):y(Hd(I))}).then(function(y){return new u(function(I,N){y.db.transaction(function(D){function M(ge){return new u(function(be,$e){D.executeSql("DROP TABLE IF EXISTS "+ge,[],function(){be()},function(Le,Et){$e(Et)})})}for(var F=[],Y=0,oe=y.storeNames.length;Y<oe;Y++)F.push(M(y.storeNames[Y]));u.all(F).then(function(){I()}).catch(function(ge){N(ge)})},function(D){N(D)})})}):E=u.reject("Invalid arguments"),h(E,v),E}var Vd={_driver:"webSQLStorage",_initStorage:Pd,_support:m(),iterate:Md,getItem:Dd,setItem:kd,removeItem:Ld,clear:Fd,length:Bd,key:Ud,keys:$d,dropInstance:Wd};function jd(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ua(d,v){var p=d.name+"/";return d.storeName!==v.storeName&&(p+=d.storeName+"/"),p}function Gd(){var d="_localforage_support_test";try{return localStorage.setItem(d,!0),localStorage.removeItem(d),!1}catch{return!0}}function Kd(){return!Gd()||localStorage.length>0}function zd(d){var v=this,p={};if(d)for(var b in d)p[b]=d[b];return p.keyPrefix=ua(d,v._defaultConfig),Kd()?(v._dbInfo=p,p.serializer=ht,u.resolve()):u.reject()}function qd(d){var v=this,p=v.ready().then(function(){for(var b=v._dbInfo.keyPrefix,E=localStorage.length-1;E>=0;E--){var y=localStorage.key(E);y.indexOf(b)===0&&localStorage.removeItem(y)}});return h(p,d),p}function Yd(d,v){var p=this;d=w(d);var b=p.ready().then(function(){var E=p._dbInfo,y=localStorage.getItem(E.keyPrefix+d);return y&&(y=E.serializer.deserialize(y)),y});return h(b,v),b}function Qd(d,v){var p=this,b=p.ready().then(function(){for(var E=p._dbInfo,y=E.keyPrefix,I=y.length,N=localStorage.length,D=1,M=0;M<N;M++){var F=localStorage.key(M);if(F.indexOf(y)===0){var Y=localStorage.getItem(F);if(Y&&(Y=E.serializer.deserialize(Y)),Y=d(Y,F.substring(I),D++),Y!==void 0)return Y}}});return h(b,v),b}function Jd(d,v){var p=this,b=p.ready().then(function(){var E=p._dbInfo,y;try{y=localStorage.key(d)}catch{y=null}return y&&(y=y.substring(E.keyPrefix.length)),y});return h(b,v),b}function Xd(d){var v=this,p=v.ready().then(function(){for(var b=v._dbInfo,E=localStorage.length,y=[],I=0;I<E;I++){var N=localStorage.key(I);N.indexOf(b.keyPrefix)===0&&y.push(N.substring(b.keyPrefix.length))}return y});return h(p,d),p}function Zd(d){var v=this,p=v.keys().then(function(b){return b.length});return h(p,d),p}function ep(d,v){var p=this;d=w(d);var b=p.ready().then(function(){var E=p._dbInfo;localStorage.removeItem(E.keyPrefix+d)});return h(b,v),b}function tp(d,v,p){var b=this;d=w(d);var E=b.ready().then(function(){v===void 0&&(v=null);var y=v;return new u(function(I,N){var D=b._dbInfo;D.serializer.serialize(v,function(M,F){if(F)N(F);else try{localStorage.setItem(D.keyPrefix+d,M),I(y)}catch(Y){(Y.name==="QuotaExceededError"||Y.name==="NS_ERROR_DOM_QUOTA_REACHED")&&N(Y),N(Y)}})})});return h(E,p),E}function np(d,v){if(v=R.apply(this,arguments),d=typeof d!="function"&&d||{},!d.name){var p=this.config();d.name=d.name||p.name,d.storeName=d.storeName||p.storeName}var b=this,E;return d.name?E=new u(function(y){d.storeName?y(ua(d,b._defaultConfig)):y(d.name+"/")}).then(function(y){for(var I=localStorage.length-1;I>=0;I--){var N=localStorage.key(I);N.indexOf(y)===0&&localStorage.removeItem(N)}}):E=u.reject("Invalid arguments"),h(E,v),E}var rp={_driver:"localStorageWrapper",_initStorage:zd,_support:jd(),iterate:Qd,getItem:Yd,setItem:tp,removeItem:ep,clear:qd,length:Zd,key:Jd,keys:Xd,dropInstance:np},ip=function(v,p){return v===p||typeof v=="number"&&typeof p=="number"&&isNaN(v)&&isNaN(p)},sp=function(v,p){for(var b=v.length,E=0;E<b;){if(ip(v[E],p))return!0;E++}return!1},fa=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"},Tr={},ha={},Hn={INDEXEDDB:_,WEBSQL:Vd,LOCALSTORAGE:rp},op=[Hn.INDEXEDDB._driver,Hn.WEBSQL._driver,Hn.LOCALSTORAGE._driver],Ai=["dropInstance"],Bs=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ai),lp={description:"",driver:op.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ap(d,v){d[v]=function(){var p=arguments;return d.ready().then(function(){return d[v].apply(d,p)})}}function Us(){for(var d=1;d<arguments.length;d++){var v=arguments[d];if(v)for(var p in v)v.hasOwnProperty(p)&&(fa(v[p])?arguments[0][p]=v[p].slice():arguments[0][p]=v[p])}return arguments[0]}var cp=function(){function d(v){o(this,d);for(var p in Hn)if(Hn.hasOwnProperty(p)){var b=Hn[p],E=b._driver;this[p]=E,Tr[E]||this.defineDriver(b)}this._defaultConfig=Us({},lp),this._config=Us({},this._defaultConfig,v),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return d.prototype.config=function(p){if((typeof p>"u"?"undefined":s(p))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var b in p){if(b==="storeName"&&(p[b]=p[b].replace(/\W/g,"_")),b==="version"&&typeof p[b]!="number")return new Error("Database version must be a number.");this._config[b]=p[b]}return"driver"in p&&p.driver?this.setDriver(this._config.driver):!0}else return typeof p=="string"?this._config[p]:this._config},d.prototype.defineDriver=function(p,b,E){var y=new u(function(I,N){try{var D=p._driver,M=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!p._driver){N(M);return}for(var F=Bs.concat("_initStorage"),Y=0,oe=F.length;Y<oe;Y++){var ge=F[Y],be=!sp(Ai,ge);if((be||p[ge])&&typeof p[ge]!="function"){N(M);return}}var $e=function(){for(var Rr=function(hp){return function(){var dp=new Error("Method "+hp+" is not implemented by the current driver"),da=u.reject(dp);return h(da,arguments[arguments.length-1]),da}},$s=0,fp=Ai.length;$s<fp;$s++){var Hs=Ai[$s];p[Hs]||(p[Hs]=Rr(Hs))}};$e();var Le=function(Rr){Tr[D]&&console.info("Redefining LocalForage driver: "+D),Tr[D]=p,ha[D]=Rr,I()};"_support"in p?p._support&&typeof p._support=="function"?p._support().then(Le,N):Le(!!p._support):Le(!0)}catch(Et){N(Et)}});return g(y,b,E),y},d.prototype.driver=function(){return this._driver||null},d.prototype.getDriver=function(p,b,E){var y=Tr[p]?u.resolve(Tr[p]):u.reject(new Error("Driver not found."));return g(y,b,E),y},d.prototype.getSerializer=function(p){var b=u.resolve(ht);return g(b,p),b},d.prototype.ready=function(p){var b=this,E=b._driverSet.then(function(){return b._ready===null&&(b._ready=b._initDriver()),b._ready});return g(E,p,p),E},d.prototype.setDriver=function(p,b,E){var y=this;fa(p)||(p=[p]);var I=this._getSupportedDrivers(p);function N(){y._config.driver=y.driver()}function D(Y){return y._extend(Y),N(),y._ready=y._initStorage(y._config),y._ready}function M(Y){return function(){var oe=0;function ge(){for(;oe<Y.length;){var be=Y[oe];return oe++,y._dbInfo=null,y._ready=null,y.getDriver(be).then(D).catch(ge)}N();var $e=new Error("No available storage method found.");return y._driverSet=u.reject($e),y._driverSet}return ge()}}var F=this._driverSet!==null?this._driverSet.catch(function(){return u.resolve()}):u.resolve();return this._driverSet=F.then(function(){var Y=I[0];return y._dbInfo=null,y._ready=null,y.getDriver(Y).then(function(oe){y._driver=oe._driver,N(),y._wrapLibraryMethodsWithReady(),y._initDriver=M(I)})}).catch(function(){N();var Y=new Error("No available storage method found.");return y._driverSet=u.reject(Y),y._driverSet}),g(this._driverSet,b,E),this._driverSet},d.prototype.supports=function(p){return!!ha[p]},d.prototype._extend=function(p){Us(this,p)},d.prototype._getSupportedDrivers=function(p){for(var b=[],E=0,y=p.length;E<y;E++){var I=p[E];this.supports(I)&&b.push(I)}return b},d.prototype._wrapLibraryMethodsWithReady=function(){for(var p=0,b=Bs.length;p<b;p++)ap(this,Bs[p])},d.prototype.createInstance=function(p){return new d(p)},d}(),up=new cp;r.exports=up},{3:3}]},{},[4])(4)})})(Nd);const pS=Nd.exports,_S=new dS({storage:pS,asyncStorage:!0}),Od=new Yw.Store({state:{level:null},plugins:[_S.plugin],mutations:{main(t){t.level=null},easy(t){t.level="easy"},medium(t){t.level="medium"},hard(t){t.level="hard"}}});pd.beforeEach(async(t,e,n)=>{await Od.restored,n()});Fg(zg).use(pd).use(Od).mount("#app");
